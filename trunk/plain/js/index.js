!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=32)}([function(t,e,n){"use strict";window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||clearTimeout;var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,r)}catch(t){}var o={};!function(){var t,e={},n=navigator.userAgent.toLowerCase();(t=n.match(/ipad; cpu os ([\d_]+)/))?e.ipad=t[1].replace(/_/g,"."):(t=n.match(/iphone os ([\d_]+)/))?e.iphone=t[1].replace(/_/g,"."):(t=n.match(/android[ \/]([\d.]+)/))?e.android=t[1]:(t=n.match(/rv:([\d.]+)\) like gecko/))?e.ie=t[1]:(t=n.match(/msie ([\d.]+)/))?e.ie=t[1]:(t=n.match(/firefox\/([\d.]+)/))?e.firefox=t[1]:(t=n.match(/chrome\/([\d.]+)/))?e.chrome=t[1]:(t=n.match(/opera.([\d.]+)/))?e.opera=t[1]:(t=n.match(/version\/([\d.]+).*safari/))?e.safari=t[1]:e._=0,o.isIpad=e.hasOwnProperty("ipad"),o.isIphone=e.hasOwnProperty("iphone"),o.isAndroid=e.hasOwnProperty("android"),o.isIe=e.hasOwnProperty("ie"),o.isFirefox=e.hasOwnProperty("firefox"),o.isChrome=e.hasOwnProperty("chrome"),o.isOpera=e.hasOwnProperty("opera"),o.isSafari=e.hasOwnProperty("safari"),o.isWeChat="micromessenger"==n.match(/MicroMessenger/i),o.ver=0;var i;for(var r in e)e.hasOwnProperty(r)&&(i=e[r]);i=i.split(".");for(var a=[],s=0,c=i.length;s<c&&!(s>=2);s++)a.push(i[s]);a=a.join("."),o.ver=a,o.isPhone=o.isAndroid||o.isIpad||o.isIphone}(),function(){var t=navigator.platform,e=0==t.indexOf("Win"),n=0==t.indexOf("Mac"),i="X11"==t||0==t.indexOf("Linux");o.isPc=e||n||i,o.isMac=n,o.isWin=e,o.isLinux=i}(),function(){var t=document.createElement("div").style,e=function(){if(window.navigator.msPointerEnabled)return"";if("MozTransform"in t)return"";for(var e="webkitT,MozT,msT,OT,t".split(","),n=0,i=e.length;n<i;n++)if(e[n]+"ransform"in t)return e[n].substr(0,e[n].length-1);return!1}(),n=function(t){return e?(t=t.charAt(0).toUpperCase()+t.substr(1),e+t):t},i=n("perspective")in t,r=!!(window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0),a=o.isPhone,s=a||r,c=!1!==e,u=n("transitionProperty"),h=n("transitionDuration"),l=n("transformOrigin"),p=n("transitionTimingFunction"),d=n("transitionDelay"),f=function(){return!1===e?"fullscreenchange":{"":"fullscreenchange",webkit:"webkitfullscreenchange",Moz:"mozfullscreenchange",O:"ofullscreenchange",ms:"msfullscreenchange"}[e]}(),m=function(){return!1===e?"pointerlockchange":{"":"pointerlockchange",webkit:"webkitpointerlockchange",Moz:"mozpointerlockchange",O:"opointerlockchange",ms:"mspointerlockchange"}[e]}(),g="onorientationchange"in window?"orientationchange":"resize",v=a?"touchstart":r?"MSPointerDown":"mousedown",y=a?"touchmove":r?"MSPointerMove":"mousemove",b=a?"touchend":r?"MSPointerUp":"mouseup",w=a?"touchcancel":r?"MSPointerUp":"mouseup",x=function(){return!1===e?"transitionend":{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[e]}(),k=function(){return!1===e?"animationEnd":{"":"animationEnd",webkit:"webkitAnimationEnd",Moz:"mozAnimationEnd",O:"oanimationend",ms:"MSAnimationEnd"}[e]}(),_=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),P=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),S=function(t){var e=t.css("position");return"fixed"==e||"absolute"==e||"relative"==e},O=function(){var t=0;return function(){return t+=1}}(),j=(navigator.browserLanguage||navigator.language).toLowerCase(),E=function(){for(var e="webkitT,MozT,msT,OT".split(","),n=0,i=e.length;n<i;n++)if(e[n]+"ransform"in t)return"-"+e[n].substr(0,e[n].length-1)+"-";return""}(),T=function(e){return e in t?e:E+e in t?E+e:e},B="",z=function(){return"boxPack"in t?2009:E+"box-pack"in t?(B=E,2009):"flexPack"in t?2011:E+"flex-pack"in t?(B=E,2011):"flexBasis"in t?2013:E+"flex-basis"in t?(B=E,2013):void 0}(),F=2013==z?B+"flex":2011==z?B+"flexbox":2009==z?B+"box":"flex",R=2013==z?B+"align-items":2011==z?B+"flex-pack":2009==z?B+"box-pack":"align-items",A=2013==z?B+"justify-content":2011==z?B+"flex-align":2009==z?B+"box-align":"justify-content",$=2013==z?B+"flex":2011==z?B+"flex":2009==z?B+"box-flex":"flex",L=2013==z?B+"flex-direction":2011==z?B+"flex-direction":2009==z?B+"box-orient":"flex-direction",I=2013==z?"row":2011==z?"row":2009==z?"horizontal":"row",M=2013==z?"column":2011==z?"column":2009==z?"vertical":"column",C=T("animation"),D=T("box-shadow"),V=T("background-size"),N=T("transform"),Z=T("transform-origin"),H=T("transform-style"),U=T("perspective"),Y=T("perspective-origin"),X=T("border-radius"),q=T("box-sizing"),G=T("background-clip"),W=T("border-bottom-left-radius"),J=T("border-bottom-right-radius"),K=T("border-top-left-radius"),Q=T("border-top-right-radius"),tt=T("backface-visibility"),et=T("transition"),nt=T("transition-property"),it=T("transition-duration"),rt=T("transition-timing-function"),ot={box:F,"justify-content":A,"align-items":R,"background-size":V,"background-clip":G,flex:$,"flex-direction":L,row:I,column:M,transform:N,"transform-origin":Z,"transform-style":H,perspective:U,"perspective-origin":Y,"border-radius":X,"border-bottom-left-radius":W,"border-bottom-right-radius":J,"border-top-left-radius":K,"border-top-right-radius":Q,"box-sizing":q,"box-shadow":D,"backface-visibility":tt,transition:et,"transition-property":nt,"transition-duration":it,"transition-timing-function":rt,animation:C},at=function(){var t,e=[];for(var n in ot)ot.hasOwnProperty(n)&&("box"==n||"transition"==n||"flex"==n?e.push("([^-]"+n+"[^-])"):"row"==n||"column"==n?e.push(n):e.push("([^-]"+n+")"));return t=e.join("|"),new RegExp(t,"ig")}(),st=function(t){var e=JSON.stringify(t),n=ct(e);return JSON.parse(n)},ct=function(t){return t.replace(at,function(t){var e=t.substr(1,t.length-2);if("box"==e||"transition"==e||"flex"==e){var n=ot[e];return t.substr(0,1)+n+t.substr(t.length-1)}return"row"==t||"column"==t?ot[t]:t.substr(0,1)+ot[t.substr(1)]})},ut=function(t){return t=t.replace(/;/gi," ; "),ct(" "+t)};t=null,o.has3d=i,o.hasTouch=s,o.hasTransform=c,o._transform=N,o._transitionProperty=u,o._transitionDuration=h,o._transformOrigin=l,o._transitionTimingFunction=p,o._transitionDelay=d,o.RESIZE_EV=g,o.START_EV=v,o.MOVE_EV=y,o.END_EV=b,o.CANCEL_EV=w,o.TRNEND_EV=x,o.ANIEND_EV=k,o.FULLSCREEN_EV=f,o.LOCKPOINTER_EV=m,o.nextFrame=_,o.cancelFrame=P,o.language=j,o.counter=O,o.fixObjCss=st,o.fixCss=ut,o.css=ot,o.boxType=z,o.boxVendors=B,o.checkDomHasPosition=S,o.trim=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},o.getBetweenNumber=function(t,e,n){return t=t>n?n:t,t=t<e?e:t}}(),o.rem2Px=function(t,e){return window.innerWidth/t*100*e},o.delHtmlTag=function(t){return t.replace(/<[^>]+>/g,"")},o.sleep=function(t){return t*=1e3,new Promise(function(e){setTimeout(function(){e()},t)})},o.passiveSupported=i,t.exports=o},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(0);$.isNumber=function(t){return"number"==typeof t},$.isString=function(t){return"string"==typeof t},$.isBoolean=function(t){return"boolean"==typeof t},$.isObject=function(t){return null!==t&&void 0!==t&&!$.isArray(t)&&"object"===(void 0===t?"undefined":i(t))},$.isArray=function(t){return t.constructor===Array},$.isFunction=function(t){return"function"==typeof t},$.isUndefined=function(t){return void 0===t},$.isUrl=function(t){return new RegExp("[a-zA-z]+://[^s]*").test(t)},$.isJson=function(t){return"object"==(void 0===t?"undefined":i(t))&&"[object object]"==Object.prototype.toString.call(t).toLowerCase()&&!t.length},$.getDom=function(t){var e;return t?($.isString(t)?e=document.getElementById(t):$.isObject(t)&&(1==t.length&&(e=t.get(0)),1==t.nodeType&&(e=t)),e):e},$.getArray=function(t){return $.isArray(t)?t:[]},$.getFunction=function(t){return $.isFunction(t)?t:function(){}},$.getBloom=function(t){return!!$.isBoolean(t)&&t},$.getObj=function(t){return $.isObject(t)?t:{}},$.getNumber=function(t){return t=parseInt(t),t=t||0},$.fn.css3=function(t){return $(this).css(r.fixObjCss(t)),$(this)},$.css3=function(t){return r.fixCss(t)},$.fn.addScroll=function(){$(this).css({"overflow-x":"hidden","overflow-y":"scroll","-webkit-overflow-scrolling":"touch"})},$.fn.set3dDom=function(t){var e=$("<div></div>");e.css({"transform-style":"preserve-3d"}),e.append($(this).children()),$(this).css({perspective:t+"px"}).append(e)},$.allInputCanNotUse=function(t){if(t){var e=$("input"),n=$("textarea"),i=$("select"),r=function(t){t.attr("disabled")||t.attr({disabled:"disabled"}).data({__set_disabled__:"yes"})};e.each(function(){r($(this))}),n.each(function(){r($(this))}),i.each(function(){r($(this))})}else{var o=$("input"),a=$("textarea"),s=$("select"),c=function(t){"yes"==t.data("__set_disabled__")&&t.removeAttr("disabled").data({__set_disabled__:""})};o.each(function(){c($(this))}),a.each(function(){c($(this))}),s.each(function(){c($(this))})}},t.exports=null},function(t,e,n){"use strict";t.exports={bgScrollY:.25,bulletInterval:10,bulletSpd:8,bulletPower:1,nowBulletParam:{spd:8,power:1,interval:10},powerBox:1800,powerMaxSpd:4,powerSpd:2,powerTime:900,blood:{1:1,2:3,3:8},score:{1:100,2:300,3:1e3},plainSize:{x:30,y:84,w:108,h:140},hitSize:{1:{x:20,y:24,w:58,h:96},2:{x:10,y:100,w:140,h:140},3:{x:12,y:45,w:250,h:250}},enemySize:{1:{x:30,y:26,w:40,h:82},2:{x:20,y:97,w:122,h:122},3:{x:24,y:55,w:234,h:208}},getHitRes:function(t,e){return t["enemy"+e+"_hit"]},getPlainBoomRes:function(t){return[t.plain_boom1,t.plain_boom2]},getBoomRes:function(t,e){return 1==e?[t.enemy1_boom1,t.enemy1_boom2,t.enemy1_boom3]:2==e?[t.enemy2_boom1,t.enemy2_boom2,t.enemy2_boom3]:[t.enemy3_boom1,t.enemy3_boom2,t.enemy3_boom3,t.enemy3_boom4,t.enemy3_boom5]},getEnemyInterVal:function(t){var e=90-parseInt(t/20);return e=e<=30?30:e,30+parseInt(Math.random()*(e-30))},getEnemySpd:function(t,e){var n=2;return e>0&&(n=3),e>900&&(n=4),e>2700&&(n=5),n+parseInt(Math.random()*(6-n))+1.2*(3-t)},getEnemyType:function(t){if(t>3600){return[1,2,2,2,2,2,3,3,3,3][parseInt(10*Math.random())]}if(t>1800){return[1,1,2,2,2,2,2,3,3,3][parseInt(10*Math.random())]}if(t>=0){return[1,1,1,1,2,2,2,2,3,3][parseInt(10*Math.random())]}}}},function(t,e,n){"use strict";var i=n(33),r=n(37),o=n(36),a=n(38),s=n(42),c=n(39),u=n(0),h=!!u.passiveSupported&&{passive:!1},l=function(){window.addEventListener(u.MOVE_EV,function(t){t.preventDefault()},h)};t.exports={app:i,scene:r,layer:o,sprite:a,text:s,group:c,preventScroll:l}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(43),a=new Map,s=Symbol(),c=Symbol(),u=Symbol(),h=Symbol(),l=[],p=function(){function t(e){i(this,t),this[u]=$(e),this[h]=[],this[s](),this.addDefaultEvent()}return r(t,[{key:s,value:function(){var t=this;this[u].each(function(){if(this.__bens_eventid__)t[h].push(this.__bens_eventid__);else{var e=Symbol();this.__bens_eventid__=e,t[h].push(e),a.set(e,new Map)}})}},{key:c,value:function(t,e){for(var n=this[h],i=0,r=n.length;i<r;i++){var o=n[i];a.get(o).set(e,t)}}},{key:"addDefaultEvent",value:function(){for(var t=this[h],e=0,n=t.length;e<n;e++){var i=t[e],r=a.get(i);r.has("myclickdown")||this[c](function(t){t.stopPop(),$(this).css({opacity:.5})},"myclickdown"),r.has("myclickup")||this[c](function(t){t.stopPop(),$(this).css({opacity:1})},"myclickup")}}},{key:"trigger",value:function(t){for(var e=0,n=this[h].length;e<n;e++){var i=this[h][e],r=a.get(i);if(r){var o=r.get(t);o&&o()}}return this}},{key:"myclickok",value:function(t){return this[c](t,"myclickok"),this}},{key:"myclickdown",value:function(t){return this[c](t,"myclickdown"),this}},{key:"myclickup",value:function(t){return this[c](t,"myclickup"),this}},{key:"mylongclick",value:function(t){return this[c](t,"mylongclick"),this}},{key:"myslideleft",value:function(t){return this[c](t,"myslideleft"),this}},{key:"myslideright",value:function(t){return this[c](t,"myslideright"),this}},{key:"myslidedown",value:function(t){return this[c](t,"myslidedown"),this}},{key:"myslideup",value:function(t){return this[c](t,"myslideup"),this}},{key:"myend",value:function(t){return this[c](t,"myend"),this}},{key:"mystart",value:function(t){return this[c](t,"myclickdown"),this}},{key:"mymove",value:function(t){return this[c](t,"mymove"),this}},{key:"unbind",value:function(t){var e=!(t&&!$.isBoolean(t))||t;this[u].each(function(){var n=this.__bens_eventid__,i=a.get(n);e?(a.delete(n),delete this.__bens_eventid__):(i.delete(t),0==i.size&&(a.delete(n),delete this.__bens_eventid__))})}}],[{key:"run",value:function(t,e){var n=t.myTarget,i=!0;t.stopPop=function(){i=!1};var r=function(t){var e=t.parentNode;o(e)},o=function(n){if(n&&"html"!=n.nodeName.toLowerCase()){var o=n.__bens_eventid__,s=a.get(o);if(s){"myclickdown"==e&&l.push(n),"myclickup"==e&&(l=[]);var c=s.get(e);c&&c.call(n,t)}i&&r(n)}};o(n)}},{key:"runMove",value:function(t,e,n){l.map(function(i){var r=i.__bens_eventid__,o=a.get(r);if(o){var s=o.get(n);s&&s.call(i,t,e)}})}}]),t}();new o({myTouchDown:function(t){p.run(t,"myclickdown")},myTouchUp:function(t){p.run(t,"myclickup")},myTouch:function(t){p.run(t,"myclickok")},myLongTouch:function(t){p.run(t,"mylongclick")},mySlideLeft:function(t){p.run(t,"myslideleft")},mySlideRight:function(t){p.run(t,"myslideright")},mySlideUp:function(t){p.run(t,"myslideup")},mySlideDown:function(t){p.run(t,"myslidedown")},myMove:function(t,e){p.runMove(t,e,"mymove")},canMoveLength:20,longClickTime:1e3,slideMaxTime:500}),t.exports=function(t){return new p(t)}},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=(n(2),{run:function(t,e,n,i,r){e=ServerUrl+e,$.ajax({type:t,cache:!1,url:e,data:n,dataType:"json",timeout:2e4,success:function(t){if(0!=t.errcode)r(t.errmsg);else{var e=t.data||[];e=e[0]||{},i(e)}},error:function(t){0==t.status&&"timeout"!=t.statusText||r("网络错误,无法连接服务器。")}})},send:function(t){var e=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){Promise.all(t).then(function(t){e(t)}).catch(function(t){throw n(t),"ajax error"})}));case 1:case"end":return e.stop()}},n,e)}))()}}),o={getToken:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){r.run("get","game/app/bl/game/getToken",t,e,n)})},getRanking:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){r.run("get","game/app/bl/game/rank",t,e,n)})},getLotteryResult:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){r.run("get","game/app/bl/game/lottery",t,e,n)})},saveMyInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){r.run("post","game/app/bl/game/submitInfo",t,e,n)})},saveValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){r.run("post","game/app/bl/game/submitValue",t,e,n)})}};t.exports={ajax:r,api:o}},function(t,e,n){"use strict";var i=n(0);n(1),$.fn.cssAnimate=function(){var t={},e=function(){var t=0;return function(){return t+=1}}(),n=function(e,n){e.removeEventListener(i.TRNEND_EV,t[n],!1),delete t[n],delete e.__bens_cssfn_id__};return function(r,o,a,s,c,u){var h=$(this),l=h.get(0),p=l.style;if(c=c||"ease",r=JSON.parse(i.fixObjCss(JSON.stringify(r))),o=o||1e3,a=$.getFunction(a),s=!!$.isBoolean(s)&&s,u=u||"auto",l.__bens_cssfn_id__){var d=l.__bens_cssfn_id__;n(l,d)}var f=e();l.__bens_cssfn_id__=f,t[f]=function(t){var e=t.propertyName;t.target==l&&r.hasOwnProperty(e)&&(p[i._transitionProperty]="",p[i._transitionDuration]="",p[i._transitionTimingFunction]="",p.webkitTransformStyle="",p.webkitBackfaceVisibility="",p.willChange="auto",a(),n(l,f))},p[i._transitionProperty]="all",p[i._transitionDuration]=o+"ms",p[i._transitionTimingFunction]=c,p.willChange=u,p.webkitTransformStyle="preserve-3d",p.webkitBackfaceVisibility=s?"visible":"hidden",setTimeout(function(){l.addEventListener(i.TRNEND_EV,t[f],!1),h.css(r)},1)}}(),t.exports=null},function(t,e,n){"use strict";var i=n(12),r=n(48);t.exports={image:i,imageMap:r}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(45),u=Symbol("animateList"),h=Symbol(),l=Symbol(),p=Symbol(),d=Symbol(),f=Symbol(),m=Symbol(),g=Symbol(),v=Symbol(),y=Symbol(),b=Symbol(),w=function(t){return function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n[b]=null,n[u]=[],n[h]=null,n[f]=null,n[v]=!0,n[y]=!1,n}return o(e,t),a(e,[{key:"animate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.time||1e3,i=e.delay||0,r=!!$.isBoolean(e.infinite)&&e.infinite,o=!!$.isBoolean(e.flip)&&e.flip,a=!!$.isBoolean(e.endFlipHorizontal)&&e.endFlipHorizontal,s=!!$.isBoolean(e.endFlipVertical)&&e.endFlipVertical,c=e.callback||function(){},h=e.style||{},l=e.animateStyle||"Linear",p=e.animateClass||"";setTimeout(function(){var e=t[m](l,p);t[u].push({time:n,animateTweenFn:e,callback:c,style:h,infinite:r,flip:o,endFlipHorizontal:a,endFlipVertical:s})},i)}},{key:"animateStop",value:function(){this[v]=!1}},{key:"animatePause",value:function(){this[y]=!0}},{key:"animateResume",value:function(){this[y]=!1,this[v]=!0}},{key:"clearAnimateList",value:function(){this[u]=[],this[h]=null,this.animateResume()}},{key:m,value:function(t,e){return"Linear"==t?c[t]:c[t]?c[t][e]?c[t][e]:c[t].easeIn:c[t]}},{key:p,value:function(){if(this[y])return null;if(this[h])return this[h];if(!this[v])return this[v]=!0,this[y]=!0,null;if(0==this[u].length)return null;var t=this[u].shift(),e=t.style,n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=this[i]||0);return t._style=n,t.startTime=(new Date).getTime(),t.endTime=t.startTime+t.time,this[h]=t,this[h]}},{key:d,value:function(){var t=(new Date).getTime(),e=this[h],n=e.startTime,i=e.endTime,r=e.time,o=e.style,a=e._style,s=e.animateTweenFn,c=e.callback,u=e.infinite,l=t>=i;t=l?i:t;var p=(t-n)/r;for(var d in o)if(o.hasOwnProperty(d)){var f=a[d],m=o[d]-a[d];this[d]=s(p,f,m,1)}if(l){if(!u)return c.call(this),void(this[h]=null);this[g](),this[h]=null}}},{key:g,value:function(){var t=this[h],e=t.time,n=t.animateTweenFn,i=t.callback,r=t.style,o=t._style,a=t.infinite,s=t.flip,c=t.endFlipHorizontal,l=t.endFlipVertical;c&&(this.flipHorizontal=!this.flipHorizontal),l&&(this.flipVertical=!this.flipVertical);var p={time:e,animateTweenFn:n,callback:i,style:s?o:r,infinite:a,flip:s,endFlipHorizontal:c,endFlipVertical:l};if(this[u].unshift(p),!s)for(var d in o)o.hasOwnProperty(d)&&(this[d]=o[d])}},{key:l,value:function(){this[p]()&&this[d]()}},{key:"render",value:function(){this[l](),this[b]&&this[b].call(this),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"render",this).call(this)}},{key:"myRender",set:function(t){t=$.isFunction(t)?t:null,this[b]=t},get:function(){return this[b]}}]),e}(t)};t.exports=w},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(1);var o=Symbol(),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.width=e.width||0,this.height=e.height||0,this.x=e.x||0,this.y=e.y||0,this.x1=this.x+this.width,this.y1=this.y+this.height,this.data=e.data||{},this.res=e.res,this.rotate=e.rotate||0,this.scale=e.scale||1,this.alpha=e.alpha||100,this.centerX=$.isUndefined(e.centerX)?e.width/2:e.centerX,this.centerY=$.isUndefined(e.centerY)?e.height/2:e.centerY,this.flipHorizontal=!!$.isBoolean(e.flipHorizontal)&&e.flipHorizontal,this.flipVertical=!!$.isBoolean(e.flipVertical)&&e.flipVertical,this.beforeRenderFn=e.beforeRenderFn||function(){},this[o]=null,this.ctx=null}return r(t,[{key:"setCtx",value:function(){this.ctx.save(),this.ctx.globalAlpha=this.alpha/100;var t=this.flipHorizontal?this[o].width:0,e=this.flipVertical?this[o].height:0,n=this.flipHorizontal?-1:1,i=this.flipVertical?-1:1;this.ctx.translate(t,e),this.ctx.scale(n,i);var r=this.x+this.centerX,a=this.y+this.centerY,s=this.flipHorizontal?this[o].width-r:r,c=this.flipVertical?this[o].height-a:a;this.ctx.translate(s,c),this.ctx.rotate(Math.PI*this.rotate/180),this.ctx.translate(-s,-c);var u=void 0,h=void 0;return u=this.flipHorizontal?this[o].width-r-(this.width-this.centerX)*this.scale:r-(r-this.x)*this.scale,h=this.flipVertical?this[o].height-a-(this.height-this.centerY)*this.scale:a-(a-this.y)*this.scale,{x:u,y:h}}},{key:"restoreCtx",value:function(){this.ctx.globalAlpha=1,this.ctx.restore()}},{key:"render",value:function(){var t=this.setCtx(),e=t.x,n=t.y;this.beforeRenderFn.call(this),$.isObject(this.res)?this.ctx.drawImage(this.res,0,0,this.res.width,this.res.height,e,n,this.width*this.scale,this.height*this.scale):(this.ctx.fillStyle=this.res,this.ctx.fillRect(e,n,this.width*this.scale,this.height*this.scale)),this.restoreCtx()}},{key:"myclickdown",value:function(t){return this.myclickdownFn=t,this}},{key:"myclickup",value:function(t){return this.myclickupFn=t,this}},{key:"myclickok",value:function(t){return this.myclickokFn=t,this}},{key:"parent",set:function(t){this[o]=t,this.ctx=t.getContext("2d")},get:function(){return this[o]}}]),t}();t.exports=a},function(t,e,n){"use strict";var i={userData:null,name:location.hostname,init:function(){if(!this.userData)try{this.userData=document.createElement("INPUT"),this.userData.type="hidden",this.userData.style.display="none",this.userData.addBehavior("#default#userData"),document.body.appendChild(this.userData);var t=new Date;t.setDate(t.getDate()+365),this.userData.expires=t.toUTCString()}catch(t){return!1}return!0},setItem:function(t,e){window.localStorage?window.localStorage[t]=e:this.init()&&(this.userData.load(this.name),this.userData.setAttribute(t,e),this.userData.save(this.name))},getItem:function(t){return window.localStorage?window.localStorage[t]:this.init()?(this.userData.load(this.name),this.userData.getAttribute(t)):void 0},removeItem:function(t){window.localStorage?window.localStorage.removeItem(t):this.init()&&(this.userData.load(this.name),this.userData.removeAttribute(t),this.userData.save(this.name))}};t.exports=i},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=Symbol(),s=Symbol(),c=Symbol(),u=Symbol(),h=Symbol(),l=Symbol(),p=Symbol(),d=Symbol(),f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.dom=e.dom||$(document),this.touchStartTime=0,this.target=null,this.points=[],this[s]=null,this[c]=null,this[u]=null,this[h]=null,this[a]()}return r(t,[{key:a,value:function(){var t=this;this.dom.get(0).addEventListener(o.START_EV,this[s]=function(e){t.startFn(e)},!1),this.dom.get(0).addEventListener(o.MOVE_EV,this[c]=function(e){t.moveFn(e)},!1),this.dom.get(0).addEventListener(o.END_EV,this[u]=function(e){t.endFn(e)},!1),this.dom.get(0).addEventListener(o.CANCEL_EV,this[h]=function(e){t.endFn(e)},!1)}},{key:l,value:function(t,e){t&&e&&this.points.push({x:t,y:e})}},{key:p,value:function(t){var e=t.clientX,n=t.clientY;return t.touches&&t.touches[0]&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{x:e,y:n}}},{key:d,value:function(){this.points=[]}},{key:"startFn",value:function(t){this[d]();var e=this[p](t),n=e.x,i=e.y;this[l](n,i),this.touchStartTime=t.timestamp,this.target=t.target}},{key:"moveFn",value:function(t){var e=this[p](t),n=e.x,i=e.y;this[l](n,i)}},{key:"endFn",value:function(t){var e=this[p](t),n=e.x,i=e.y;this[l](n,i)}},{key:"destroy",value:function(){this.dom.get(0).removeEventListener(o.START_EV,this[s],!1),this.dom.get(0).removeEventListener(o.MOVE_EV,this[c],!1),this.dom.get(0).removeEventListener(o.END_EV,this[u],!1),this.dom.get(0).removeEventListener(o.CANCEL_EV,this[h],!1)}}]),t}();t.exports=f},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=(Symbol(),Symbol()),s=Symbol(),c=Symbol(),u=Symbol(),h=Symbol(),l=Symbol(),p=function(){function t(e,n){return i(this,t),this.ress=e,this.propFn=n||function(){},this.data=[],this[h]=Object.entries(this.ress).length,this[l]=0,this[a](),this[u]()}return o(t,[{key:a,value:function(){var t=!0,e=!1,n=void 0;try{for(var i,o=Object.entries(this.ress)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=r(a,2),c=s[0],u=s[1];this.data.push({key:c,src:u})}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}}},{key:s,value:function(t){var e=t.key,n=t.src,i=this;return new Promise(function(t,r){var o=new Image;o.onload=function(){i[l]++,i.propFn(i[l],i[h]),t({key:e,val:this})},o.onerror=function(){r(n)},o.src=n})}},{key:c,value:function(){var t=this,e=this.data.map(function(e){return t[s](e)});return Promise.all(e)}},{key:u,value:function(){var t=this;return new Promise(function(e,n){t[c]().then(function(t){var n={};t.map(function(t){var e=t.key,i=t.val;n[e]=i}),e({state:1,data:n})}).catch(function(t){e({state:0,msg:t})})})}}]),t}();t.exports=p},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=n(7).image,o=n(3),a=n(35),s=n(0),c=n(2),u=function(t){return t/=100,s.rem2Px(750,t)},h={bgImage:null,scene:null,layer:null,init:function(t,e){var n=this;return this.scene=t,new Promise(function(){var t=i(regeneratorRuntime.mark(function t(i){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.loadBgImage(e);case 2:r=t.sent,n.bgImage=r.bg,n.createBg(),i(r);case 6:case"end":return t.stop()}},t,n)}));return function(e){return t.apply(this,arguments)}}())},loadBgImage:function(t){var e=this;return i(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new r(t,function(t,e){console.log("load bg image")});case 2:if(i=e.sent,1!=i.state){e.next=7;break}return e.abrupt("return",i.data);case 7:throw i.msg;case 8:case"end":return e.stop()}},n,e)}))()},createBg:function(){this.layer=new o.layer({width:this.scene.width,height:this.scene.height,zIndex:1}),this.scene.append(this.layer);var t=new a({img:this.bgImage,width:u(this.bgImage.width),height:u(this.bgImage.height),x:0,y:0,groupBeforeRenderFn:function(){this.y=this.y+c.bgScrollY,this.y>=this.height/2&&(this.y=0)}});this.layer.append(t)}};t.exports=h},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(2),a=function(t){return t/=100,i.rem2Px(750,t)},s=function(t,e,n){var i=a(n.bullet.width),s=a(n.bullet.height),c=t.x+t.width/2-i/2,u=t.y-s,h=new r.sprite({width:i,height:s,x:c,y:u,res:n.bullet,beforeRenderFn:function(){this.y=this.y-this.data.spd,this.y1=this.y+this.height},data:{spd:o.nowBulletParam.spd,power:o.nowBulletParam.power,interval:o.nowBulletParam.interval,isDel:!1}});return e.append(h),h};t.exports=s},function(t,e,n){"use strict";t.exports={init:function(t,e,n,i){this.checkEnemys(n,e),this.checkPlain(t,n),this.checkPowerBox(t,i)},checkPZ:function(t,e){var n=!1;return t.y1<e.y||t.y>e.y1||t.x1<e.x||t.x>e.x1||(n=!0),n},checkEnemys:function(t,e){var n=this;t.map(function(t){if(t.data.isBoom);else{var i=t.x+t.data.hitSize.x,r=t.y+t.data.hitSize.y,o=i+t.data.hitSize.w,a=r+t.data.hitSize.h,s={x:i,y:r,x1:o,y1:a};e.map(function(e){var i=e.x,r=e.x1,o=e.y,a=e.y1,c={x:i,y:o,x1:r,y1:a};n.checkPZ(s,c)&&(t.data.isHit=!0,t.data.blood=t.data.blood-e.data.power,n.delSprite(e))})}})},delSprite:function(t){t.data.isDel=!0,t.alpha=0},checkPlain:function(t,e){var n=this,i=t.x+t.data.size.x,r=t.y+t.data.size.y,o=i+t.data.size.w,a=r+t.data.size.h,s={x:i,y:r,x1:o,y1:a};e.map(function(e){if(!e.data.isBoom){var i=e.x+e.data.enemySize.x,r=e.y+e.data.enemySize.y,o=i+e.data.enemySize.w,a=r+e.data.enemySize.h,c={x:i,y:r,x1:o,y1:a};n.checkPZ(s,c)&&(t.data.isHit=!0)}})},checkPowerBox:function(t,e){var n=this,i=t.x+t.data.size.x,r=t.y+t.data.size.y,o=i+t.data.size.w,a=r+t.data.size.h,s={x:i,y:r,x1:o,y1:a};e.map(function(e){var i=e.x,r=e.y,o=e.x1,a=e.y1,c={x:i,y:r,x1:o,y1:a};if(n.checkPZ(s,c)){var u=e.data.type;e.data.isDel=!0,t.data.getPowerType=u,console.log("get:"+u)}})}}},function(t,e,n){"use strict";var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(0),o=n(3),a=n(2),s=function(t){return t/=100,r.rem2Px(750,t)},c=function(t,e,n,r,c){var u=r["enemy"+t],h=s(u.width),l=s(u.height),p=Math.random()*(e.width-h),d=-l,f=a.getEnemySpd(t,c.game.step),m=a.blood[t],g=a.getHitRes(r,t),v=a.getBoomRes(r,t),y=a.score[t]||1,b=a.hitSize[t],w=a.enemySize[t],x={},k={},_=!0,P=!1,S=void 0;try{for(var O,j=Object.entries(b)[Symbol.iterator]();!(_=(O=j.next()).done);_=!0){var E=O.value,T=i(E,2),B=T[0],z=T[1];x[B]=s(z)}}catch(t){P=!0,S=t}finally{try{!_&&j.return&&j.return()}finally{if(P)throw S}}var F=!0,R=!1,A=void 0;try{for(var $,L=Object.entries(w)[Symbol.iterator]();!(F=($=L.next()).done);F=!0){var I=$.value,M=i(I,2),C=M[0],D=M[1];k[C]=s(D)}}catch(t){R=!0,A=t}finally{try{!F&&L.return&&L.return()}finally{if(R)throw A}}var V=new o.sprite({width:h,height:l,x:p,y:d,res:u,beforeRenderFn:function(){var t=this;this.y=this.y+this.data.spd,this.y1=this.y+this.height,this.data.isHit&&(this.data.blood<=0?(this.data.spd=0,c.music.shot&&c.music.shot.stop(),c.music.boom&&c.music.boom.play(),this.data.isBoom=!0,c.score+=this.data.score,this.setResAnimateList({resList:this.data.boomRes,canStopResPointer:[],frame:3,infinite:!1,callback:function(){t.data.isDel=!0,t.alpha=0}}),this.resAnimatePlay()):(this.setResAnimateList({resList:[this.data.hitRes,this.data.res],canStopResPointer:[],frame:3,infinite:!1}),this.resAnimatePlay()),this.data.isHit=!1)},data:{hitSize:x,enemySize:k,score:y,isHit:!1,res:u,blood:m,hitRes:g,boomRes:v,boomN:0,type:t,spd:f,isBoom:!1,isDel:!1}});return n.append(V),V};t.exports=c},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(7).image,s=n(3),c=n(0),u=(n(2),function(t){return t/=100,c.rem2Px(750,t)}),h={scene:null,layer:null,logo:null,prize_list:null,prize_btn:null,loadBg:null,loading:null,btn:null,total:0,mp3AndResTotal:0,init:function(t,e,n,o,a){var s=this;return this.parentObj=a,this.total=[].concat(r(Object.values(n))).length+[].concat(r(Object.values(o))).length,this.mp3AndResTotal=this.total,this.scene=t,this.res=e,new Promise(function(){var t=i(regeneratorRuntime.mark(function t(e){var i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.createLayer(),s.createLogo(),s.createLoading(),t.next=5,s.loadRes(n);case 5:return i=t.sent,t.next=8,s.loadMusic(o);case 8:r=t.sent,s.res=i,s.layer.del(s.loadBg),s.layer.del(s.loading),s.scene.addEvent(),s.createPrizeBtn(),s.createStartBtn(),e({res:i,mp3:r});case 16:case"end":return t.stop()}},t,s)}));return function(e){return t.apply(this,arguments)}}())},createLayer:function(){this.layer=new s.layer({width:this.scene.width,height:this.scene.height,zIndex:1}),this.scene.append(this.layer)},createLogo:function(){var t=u(this.res.logo.width),e=u(this.res.logo.height),n=(this.scene.width-t)/2,i=u(80);this.logo=new s.sprite({width:t,height:e,x:n,y:i,res:this.res.logo}),this.layer.append(this.logo)},manifestLoad:function(){var t=this;return"http:"==window.location.protocol?new Promise(function(t){t()}):new Promise(function(e){window.applicationCache.addEventListener("checking",function(t){},!1),window.applicationCache.addEventListener("noupdate",function(t){e()},!1),window.applicationCache.addEventListener("downloading",function(t){},!1),window.applicationCache.addEventListener("progress",function(e){t.total=t.mp3AndResTotal+e.total,t.loaded=e.loaded;var n=e.loaded/t.total,i=u(400*n);t.loading.width=i},!1),window.applicationCache.addEventListener("updateready",function(t){window.applicationCache.status==window.applicationCache.UPDATEREADY&&(window.applicationCache.swapCache(),window.location.reload())},!1),window.applicationCache.addEventListener("cached",function(t){e()},!1),window.applicationCache.addEventListener("obsolete",function(t){e()},!1),window.applicationCache.addEventListener("error",function(t){e()},!1)})},createLoading:function(){var t=u(404),e=u(8),n=(this.scene.width-t)/2,i=this.scene.height-u(400);this.loadBg=new s.sprite({width:t,height:e,x:n,y:i,res:"#fff"}),this.layer.append(this.loadBg);var r=u(400),o=u(4),a=(this.scene.width-r)/2,c=this.scene.height-u(398);this.loading=new s.sprite({width:0,height:o,x:a,y:c,res:"#000"}),this.layer.append(this.loading)},loadRes:function(t){var e=this;return i(regeneratorRuntime.mark(function n(){var i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=e,n.next=3,new a(t,function(t,e){i.loaded=t;var n=t/i.total,r=u(400*n);i.loading.width=r});case 3:if(r=n.sent,1!=r.state){n.next=8;break}return n.abrupt("return",r.data);case 8:throw r.msg;case 9:case"end":return n.stop()}},n,e)}))()},loadMusic:function(t){var e=this;return i(regeneratorRuntime.mark(function n(){var i,r,a,s,h,l,p,d,f,m,g,v;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i={},r=!0,a=!1,s=void 0,n.prev=4,h=Object.entries(t)[Symbol.iterator]();case 6:if(r=(l=h.next()).done){n.next=20;break}return p=l.value,d=o(p,2),f=d[0],m=d[1],n.next=13,e.loadMp3(m);case 13:i[f]=n.sent,e.loaded++,g=e.loaded/e.total,v=u(400*g),e.loading.width=v;case 17:r=!0,n.next=6;break;case 20:n.next=26;break;case 22:n.prev=22,n.t0=n.catch(4),a=!0,s=n.t0;case 26:n.prev=26,n.prev=27,!r&&h.return&&h.return();case 29:if(n.prev=29,!a){n.next=32;break}throw s;case 32:return n.finish(29);case 33:return n.finish(26);case 34:return n.next=36,c.sleep(.5);case 36:return n.abrupt("return",i);case 37:case"end":return n.stop()}},n,e,[[4,22,26,34],[27,,29,33]])}))()},loadMp3:function(t){var e=t.indexOf("bg")>-1;return new Promise(function(n){var i=void 0;i=new Howl({src:[t],loop:e,preload:!0,onload:function(){console.log(i),n(i)},onloaderror:function(t,e){console.log(t,e),n()}})})},createPrizeBtn:function(){var t=u(this.res.prize_rule_btn.width),e=u(this.res.prize_rule_btn.height),n=(this.scene.width-t)/2,i=u(640),r=this;this.prize_btn=new s.sprite({x:n,y:i,width:t,height:e,res:this.res.prize_rule_btn}),this.prize_btn.myclickok(function(){r.parentObj.showPrizeRulePage()}),this.prize_btn.myclickdown(function(){r.prize_btn.alpha=50}),this.prize_btn.myclickup(function(){r.prize_btn.alpha=100}),this.layer.append(this.prize_btn)},createStartBtn:function(){var t=u(this.res.startBtn.width),e=u(this.res.startBtn.height),n=(this.scene.width-t)/2,i=u(830),r=this;this.btn=new s.sprite({x:n,y:i,width:t,height:e,res:this.res.startBtn}),this.layer.append(this.btn),this.btn.myclickdown(function(){r.btn.alpha=50}),this.btn.myclickup(function(){r.btn.alpha=100}),this.btn.myclickok(function(){r.parentObj.showLoginPage()})}};t.exports=h},function(t,e,n){"use strict";var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(0),o=n(3),a=n(2),s=function(t){return t/=100,r.rem2Px(750,t)},c={hasEventBind:!1,layer:null,plain:null,scene:null,res:null,game:null,obj:null,powerTime:0,powerIsUse:0,init:function(t,e,n,i,r){return this.scene=t,this.layer=e,this.res=n,this.game=i,this.obj=r,this.createPlain(),this.hasEventBind||(this.addEvent(),this.hasEventBind=!0),this.plain},createPlain:function(){var t=s(this.res.plain.width),e=s(this.res.plain.height),n=this.scene.width-t,r=this.scene.height-e,c=(this.scene.width-t)/2,u=this.scene.height-e,h=a.plainSize,l={},p=a.getPlainBoomRes(this.res),d=this,f=!1,m=this.res.plain_blur,g=this.res.plain_yellow;this.powerTime=a.powerTime,this.powerIsUse=0;var v=!0,y=!1,b=void 0;try{for(var w,x=Object.entries(h)[Symbol.iterator]();!(v=(w=x.next()).done);v=!0){var k=w.value,_=i(k,2),P=_[0],S=_[1];l[P]=s(S)}}catch(t){y=!0,b=t}finally{try{!v&&x.return&&x.return()}finally{if(y)throw b}}this.plain=new o.sprite({width:t,height:e,x:c,y:u,res:this.res.plain,data:{isBoom:!1,boomRes:p,maxX:n,maxY:r,size:l,getPowerType:null,blurRes:m,yellowRes:g,res:this.res.plain},beforeRenderFn:function(){var t=this;this.data.isHit||d.setPower(this),this.data.isHit&&(this.data.isBoom=!0),this.data.isBoom&&!f&&(f=!0,d.obj.isGameOver=!0,d.obj.music.shot.stop(),d.obj.music.bg.stop(),d.obj.music.boom.play(),this.setResAnimateList({resList:this.data.boomRes,canStopResPointer:[],frame:3,infinite:!1,callback:function(){t.res=t.data.boomRes[t.data.boomRes.length-1],d.obj.endPlay(),a.nowBulletParam.spd=a.bulletSpd,a.nowBulletParam.power=a.bulletPower,a.nowBulletParam.interval=a.bulletInterval}}),this.resAnimatePlay())}}),this.layer.append(this.plain)},addEvent:function(){var t=0,e=0,n=!1,i=this;window.addEventListener(r.START_EV,function(r){i.obj.isGameOver||(n=!0,r=r.touches&&r.touches[0]?r.touches[0]:r,t=r.screenX,e=r.screenY)},!1),window.addEventListener(r.MOVE_EV,function(r){if(!i.obj.isGameOver&&n){r=r.touches&&r.touches[0]?r.touches[0]:r;var o=r.screenX,a=r.screenY,s=i.plain;s.x+=o-t,s.y+=a-e,s.x=s.x<0?0:s.x,s.x=s.x>s.data.maxX?s.data.maxX:s.x,s.y=s.y<0?0:s.y,s.y=s.y>s.data.maxY?s.data.maxY:s.y,s.x1=s.x+s.width,s.y1=s.y+s.height,t=o,e=a}},!1),window.addEventListener(r.END_EV,function(t){i.obj.isGameOver||(n=!1)},!1)},setPower:function(t){0==t.data.getPowerType&&(t.res=t.data.yellowRes,this.powerIsUse=0,a.nowBulletParam.interval=a.bulletInterval/2,a.nowBulletParam.spd=a.bulletSpd,a.nowBulletParam.power=a.bulletPower),1==t.data.getPowerType&&(t.res=t.data.blurRes,this.powerIsUse=0,a.nowBulletParam.interval=a.bulletInterval,a.nowBulletParam.power=2*a.bulletPower,a.nowBulletParam.spd=a.bulletSpd),t.data.getPowerType=null,++this.powerIsUse>this.powerTime&&(t.res=t.data.res,a.nowBulletParam.spd=a.bulletSpd,a.nowBulletParam.power=a.bulletPower,a.nowBulletParam.interval=a.bulletInterval)}};t.exports=c},function(t,e,n){"use strict";var i=n(0),r=n(2),o=n(3),a=function(t){return t/=100,i.rem2Px(750,t)};t.exports={parentObj:null,init:function(t){this.parentObj=t;var e=t.mainScene,n=t.res,i=parseInt(2*Math.random()),s=1==i?n.blur_box:n.yellow_box,c=a(s.width),u=a(s.height),h=e.width-c,l=e.height-u,p=parseInt(Math.random()*h),d=-u,f=1==parseInt(2*Math.random()),m=parseInt(Math.random()*r.powerMaxSpd)+r.powerSpd,g=parseInt(Math.random()*r.powerMaxSpd)+r.powerSpd,v=this,y=new o.sprite({width:c,height:u,x:p,y:d,res:s,beforeRenderFn:function(){v.setXY(this)},data:{dirX:f,dirY:!0,spdX:m,spdY:g,type:i,maxX:h,maxY:l,isDel:!1}});return t.mainLayer.append(y),y},setXY:function(t){var e=t.data,n=e.dirX,i=e.dirY,r=e.spdX,o=e.spdY,a=e.maxX,s=e.maxY;t.x=n?t.x+r:t.x-r,t.y=i?t.y+o:t.y-o,t.x>=a&&(t.x=a,t.data.dirX=!n),t.x<=0&&(t.x=0,t.data.dirX=!n),t.y>=s&&(t.y=s,t.data.dirY=!i),t.y<=0&&(t.y=0,t.data.dirY=!i),t.x1=t.x+t.width,t.y1=t.y+t.height}}},function(t,e,n){"use strict";t.exports={res:{bg:"./image/bg.jpeg",logo:"./image/logo.png",startBtn:"./image/start.png",prize_rule_btn:"./image/prize_rule_btn.png",login_title:"./image/login_title.png",goBtn:"./image/go.png",home_btn:"./image/home_btn.png",game_sm_title:"./image/game_sm.png",prize_rule_text:"./image/prize_rule_text.png",prize_rule_text1:"./image/prize_rule_text1.png",game_sm_banner1:"./image/game_sm_banner1.png",game_sm_banner2:"./image/game_sm_banner2.png",game_sm_banner3:"./image/game_sm_banner3.png",game_sm_banner4:"./image/game_sm_banner4.png",indexBtn:"./image/index_btn.png",prizeBtn:"./image/prize_btn.png",replayBtn:"./image/replay_btn.png",scoreTitle:"./image/score_title.png",backBtn:"./image/back_btn.png",indexListTitle:"./image/index_list.png",prizePageBtn:"./image/prize_page_btn.png",prizePageGet:"./image/prize_page_get.png",prizePageNothing:"./image/prize_page_nothing.png",prizePageObj1:"./image/prize_page_obj1.png",prizePageObj2:"./image/prize_page_obj2.png",prizePageObj3:"./image/prize_page_obj3.png",prizePageObj4:"./image/prize_page_obj4.png",prizePageObj5:"./image/prize_page_obj5.png",prizePageReplay:"./image/prize_page_replay.png",prizePageText:"./image/prize_page_text.png",prizePan:"./image/prize_pan.png",prizeZhen:"./image/prize_zhen.png",addressSubmitBtn:"./image/address_submit_btn.png",bullet:"./image/bullet.png",plain:"./image/plain.png",plain_boom1:"./image/plain_boom1.png",plain_boom2:"./image/plain_boom2.png",plain_blur:"./image/plant_blur.png",plain_yellow:"./image/plant_yellow.png",plain_ts:"./image/plant_ts.png",blur_box:"./image/blur_box.png",yellow_box:"./image/yellow_box.png",enemy1:"./image/enemy1.png",enemy2:"./image/enemy2.png",enemy3:"./image/enemy3.png",enemy1_hit:"./image/enemy1.png",enemy2_hit:"./image/enemy2_hit.png",enemy3_hit:"./image/enemy3_hit.png",enemy1_boom1:"./image/enemy1_boom1.png",enemy1_boom2:"./image/enemy1_boom2.png",enemy1_boom3:"./image/enemy1_boom3.png",enemy2_boom1:"./image/enemy2_boom1.png",enemy2_boom2:"./image/enemy2_boom2.png",enemy2_boom3:"./image/enemy2_boom3.png",enemy3_boom1:"./image/enemy3_boom1.png",enemy3_boom2:"./image/enemy3_boom2.png",enemy3_boom3:"./image/enemy3_boom3.png",enemy3_boom4:"./image/enemy3_boom4.png",enemy3_boom5:"./image/enemy3_boom5.png"},mp3:{bg:"./mp3/2.mp3",shot:"./mp3/1.mp3",boom:"./mp3/3.mp3"}}},function(t,e,n){"use strict";var i=n(0),r=n(3),o=function(t){return t/=100,i.rem2Px(750,t)};t.exports=function(t,e,n){var i=o(40),a=o(40),s=t.width-i,c=o(80),u=o(40),h=new r.text({x:i,y:a,width:s,height:c,text:"得分:0",fontSize:u,color:"#fff",beforeRenderFn:function(){this.text.split(":")[1]!=n.score&&(this.text="得分:"+n.score,this.refresh())}});return e.append(h),h}},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=n(0),o=function(t){return t/=100,r.rem2Px(750,t)},a=n(5),s=a.ajax,c=a.api,u=n(4);n(1),t.exports={parentObj:null,main:null,btn:null,homeBtn:null,init:function(t){this.parentObj=t,this.createPage(),$("body").append(this.main),this.addEvent()},createPage:function(){var t=this.parentObj.res,e=$('<div class="box_scc"></div>'),n=$(t.addressSubmitBtn),i=$(t.login_title),r=$(t.home_btn),a=$('<div class="box_scc"></div>'),s=$("<div>请填写真实的姓名、电话、地址，核实信息后会尽快寄出奖品。</div>"),c=$('<div class="box_hcc"></div>'),u=$("<div></div>"),h=$('<div class="box_hcc boxflex1"></div>'),l=$('<input type="text">');e.css({position:"absolute",left:0,top:0,right:0,bottom:0,"z-index":100}),s.css({width:"120%","font-size":o(24)+"px",color:"#ccc","text-align":"center",transform:"scale(0.75)","-webkit-transform":"scale(0.75)","margin-bottom":o(50)+"px"}),n.css({display:"block",width:o(t.addressSubmitBtn.width)+"px",height:o(t.addressSubmitBtn.height)+"px","margin-top":o(46)+"px"}),r.css({display:"block",width:o(t.home_btn.width)+"px",height:o(t.home_btn.height)+"px"}),a.css3({width:o(490)+"px",height:o(620)+"px",background:"rgba(255,255,255,0.15)","border-radius":o(10)+"px","margin-bottom":o(160)+"px",border:"1px solid rgba(255,255,255,0.3)"}),i.css({display:"block",width:o(t.login_title.width)+"px",height:o(t.login_title.height)+"px","margin-top":o(30)+"px"}),c.css({width:o(370)+"px",height:o(50)+"px","margin-top":o(30)+"px",border:"1px solid rgba(255,255,255,0.5)","border-radius":o(10)+"px",overflow:"hidden"}),u.css({width:o(80)+"px",height:o(50)+"px","line-height":o(50)+"px","font-size":o(26)+"px",color:"#ccc","text-align":"center"}),h.css({height:o(50)+"px",background:"rgba(255,255,255,0.3)",overflow:"hidden"}),l.css({margin:"a auto",display:"block",width:"94%",height:o(50)+"px",background:"rgba(0,0,0,0)",position:"relative","z-index":"100",color:"#fff"}),a.append(i);var p=c.clone(),d=u.clone().text("姓名"),f=h.clone(),m=l.clone().attr({placeholder:"请输入姓名",id:"name",type:"text"});f.append(m),p.append(d).append(f),a.append(p);var g=c.clone(),v=u.clone().text("手机"),y=h.clone(),b=l.clone().attr({placeholder:"请输入手机号码",id:"phone"});y.append(b),g.append(v).append(y),a.append(g);var w=c.clone(),x=u.clone().text("地址"),k=h.clone(),_=l.clone().attr({placeholder:"请输入收件地址",id:"address"});k.append(_),w.append(x).append(k),a.append(w),a.append(n),a.append(s),e.append(a).append(r),this.main=e,this.btn=n,this.homeBtn=r},addEvent:function(){var t=this;u(this.btn).myclickok(i(regeneratorRuntime.mark(function e(){var n,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=$.trim($("#phone").val()),i=$.trim($("#name").val()),r=$.trim($("#address").val()),t.checkForm(n,i,r)?(t.parentObj.loading.show("loading"),t.submit(n,i,r).then(function(e){t.parentObj.loading.hide(),alert("奖品邮寄信息提交成功"),t.goHome()}).catch(function(e){t.parentObj.loading.hide(),t.parentObj.info.show(e)})):t.parentObj.info.show("输入的信息不合法");case 2:case"end":return e.stop()}},e,this)}))),u(this.homeBtn).myclickok(function(){t.goHome()})},checkForm:function(t,e,n){var i=/^\d{11,11}$/,r=/^[\u4e00-\u9fa5a-zA-Z]{1,10}$/,o=/^[\u4e00-\u9fa5a-zA-Z0-9-_#]{1,10}$/;return i.test(t)&&r.test(e)&&o.test(n)},submit:function(t,e,n){var r=this;return i(regeneratorRuntime.mark(function i(){var o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=r.parentObj,i.next=3,s.send([c.saveMyInfo({name:e,mobiePhone:t,address:n,token:o.token})]);case 3:return a=i.sent,i.abrupt("return",a[0]);case 5:case"end":return i.stop()}},i,r)}))()},goHome:function(){this.removePage(),this.parentObj.game.show(this.parentObj.loadScene)},removePage:function(){u(this.btn).unbind(!0),u(this.homeBtn).unbind(!0),this.main.remove()}}},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=n(0),o=function(t){return t/=100,r.rem2Px(750,t)},a=n(4);n(46);n(1),t.exports={parentObj:null,main:null,body:null,btn:null,row:null,data:null,init:function(t,e){var n=this;return i(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n.parentObj=t,n.data=e,n.createMain(),$("body").append(n.main),n.bindData(n.data),i.next=7,n.addEvent();case 7:n.delPage();case 8:case"end":return i.stop()}},i,n)}))()},createMain:function(){var t=this.parentObj.res,e=$('<div class="box_scc"></div>'),n=$("<div></div>"),i=$("<div></div>"),r=$('<div class="box_hcc"></div>'),a=$("<div></div>"),s=$("<div></div>"),c=$("<div></div>"),u=$(t.backBtn);e.css({position:"absolute",left:0,top:0,right:0,bottom:0,"z-index":100}),n.css({width:"100%",height:o(60)+"px",background:"url("+t.indexListTitle.src+") no-repeat center top","background-size":o(t.indexListTitle.width)+"px "+o(t.indexListTitle.height)+"px","-webkit-background-size":o(t.indexListTitle.width)+"px "+o(t.indexListTitle.height)+"px","margin-bottom":o(40)+"px"}),i.css({width:o(600)+"px",height:o(590)+"px",background:"rgba(255,255,255,0.15)","border-radius":o(10)+"px",padding:o(40)+"px 0"}),u.css({display:"block",width:o(t.backBtn.width)+"px",height:o(t.backBtn.height)+"px","margin-top":o(50)+"px"}),r.css({width:"100%",height:o(50)+"px","line-height":o(50)+"px","font-size":o(26)+"px"}),a.css({"text-align":"right",width:o(70)+"px","padding-right":o(40)+"px",height:o(50)+"px"}),s.css({"text-align":"left",width:o(240)+"px",height:o(50)+"px"}),c.css({"text-align":"right",width:o(200)+"px",height:o(50)+"px"}),e.append(n).append(i).append(u),r.append(a).append(s).append(c),this.main=e,this.body=i,this.btn=u,this.row=r},delPage:function(){a(this.btn).unbind("click"),this.main.remove()},addEvent:function(){var t=this;return new Promise(function(e){a(t.btn).myclickok(function(){e()})})},bindData:function(t){var e=this.body,n=this.row;t.map(function(t,i){var r=n.clone();r.find("div").eq(0).text(t.index+"."),r.find("div").eq(1).text(t.nickName),r.find("div").eq(2).text(t.value),e.append(r)})}}},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=n(0),o=function(t){return t/=100,r.rem2Px(750,t)},a=n(4),s=n(5),c=s.ajax,u=s.api,h=n(10);n(1),t.exports={parentObj:null,main:null,btn:null,homeBtn:null,init:function(t){this.parentObj=t,this.createPage(),$("body").append(this.main),this.getUserInfoFromCatch(),this.addEvent()},createPage:function(){var t=this.parentObj.res,e=$('<div class="box_scc"></div>'),n=$(t.login_title),i=$(t.goBtn),r=$('<div class="box_scc"></div>'),a=$('<div class="box_hcc"></div>'),s=$("<div></div>"),c=$('<div class="box_hcc boxflex1"></div>'),u=$(t.home_btn),h=$('<input type="text">');e.css({position:"absolute",left:0,top:0,right:0,bottom:0,"z-index":100}),u.css({display:"block",width:o(t.home_btn.width)+"px",height:o(t.home_btn.height)+"px"}),i.css({display:"block",width:o(t.goBtn.width)+"px",height:o(t.goBtn.height)+"px","margin-top":o(50)+"px","margin-bottom":o(30)+"px"}),r.css3({width:o(490)+"px",height:o(485)+"px",background:"rgba(255,255,255,0.15)","border-radius":o(10)+"px","margin-bottom":o(200)+"px",border:"1px solid rgba(255,255,255,0.3)"}),n.css({display:"block",width:o(t.login_title.width)+"px",height:o(t.login_title.height)+"px",margin:o(30)+"px 0"}),a.css({width:o(370)+"px",height:o(50)+"px","margin-top":o(30)+"px",border:"1px solid rgba(255,255,255,0.5)","border-radius":o(10)+"px",overflow:"hidden"}),s.css({width:o(80)+"px",height:o(50)+"px","line-height":o(50)+"px","font-size":o(26)+"px",color:"#ccc","text-align":"center"}),c.css({height:o(50)+"px",background:"rgba(255,255,255,0.3)",overflow:"hidden"}),h.css({margin:"a auto",display:"block",width:"94%",height:o(50)+"px",background:"rgba(0,0,0,0)",position:"relative","z-index":"100",color:"#fff"}),r.append(n);var l=a.clone(),p=s.clone().text("账号"),d=c.clone(),f=h.clone().attr({placeholder:"请输入手机号",id:"phone",type:"tel"});d.append(f),l.append(p).append(d),r.append(l);var m=a.clone(),g=s.clone().text("昵称"),v=c.clone(),y=h.clone().attr({placeholder:"请输入昵称",id:"nickname"});v.append(y),m.append(g).append(v),r.append(m),r.append(i),e.append(r).append(u),this.main=e,this.btn=i,this.homeBtn=u},addEvent:function(){var t=this;a(this.btn).myclickok(function(){var e=$.trim($("#phone").val()),n=$.trim($("#nickname").val());t.checkForm(e,n)?($("#phone").blur(),$("#nickname").blur(),$(this).focus(),t.parentObj.loading.show("loading"),t.getToken(e,n).then(function(i){t.parentObj.token=i.token,t.parentObj.phone=e,t.parentObj.nickname=n,t.saveUserInfoToCatch(e,n),setTimeout(function(){t.parentObj.loading.hide(),t.removePage(),t.parentObj.firstPlay()},1e3)}).catch(function(e){t.parentObj.loading.hide(),t.parentObj.info.show(e)})):t.parentObj.info.show("请输入正确的信息")}),a(this.homeBtn).myclickok(function(){t.removePage(),t.parentObj.game.show(t.parentObj.loadScene)})},checkForm:function(t,e){var n=/^\d{11,11}$/,i=/^[\u4e00-\u9fa5a-zA-Z0-9_]{1,10}$/;return n.test(t)&&(i.test(e)||""==e)},getToken:function(t,e){var n=this;return i(regeneratorRuntime.mark(function i(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.send([u.getToken({phoneNo:t,nikeName:e})]);case 2:return r=n.sent,n.abrupt("return",r[0]);case 4:case"end":return n.stop()}},i,n)}))()},removePage:function(){a(this.homeBtn).unbind(!0),a(this.btn).unbind(!0),this.main.remove()},getUserInfoFromCatch:function(){var t=h.getItem("phone"),e=h.getItem("nickname");t&&$("#phone").val(t),e&&$("#nickname").val(e)},saveUserInfoToCatch:function(t,e){h.setItem("phone",t),h.setItem("nickname",e)}}},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=n(0),o=function(t){return t/=100,r.rem2Px(750,t)},a=n(5),s=a.ajax,c=a.api,u=n(4);n(1),n(6),t.exports={parentObj:null,main:null,replayBtn:null,prizeBtn:null,indexBtn:null,homeBtn:null,init:function(t){this.parentObj=t,this.createPage(),$("body").append(this.main),$("body").cssAnimate({opacity:1},1e3),this.addEvent(),this.updateData()},createPage:function(){var t=this.parentObj.res,e=$('<div class="box_scc"></div>'),n=$("<div></div>"),i=$("<div>"+this.parentObj.score+"</div>"),r=$(t.indexBtn),a=$(t.prizeBtn),s=$(t.replayBtn),c=$(t.home_btn);e.css({position:"absolute",left:0,top:0,right:0,bottom:0,"z-index":100}),n.css({width:o(t.scoreTitle.width)+"px",height:o(60)+"px",background:"url("+t.scoreTitle.src+") no-repeat center top","background-size":"100% "+o(t.scoreTitle.height)+"px","-webkit-background-size":"100% "+o(t.scoreTitle.height)+"px","margin-bottom":o(20)+"px"}),i.css({width:o(t.indexBtn.width)+"px",height:o(270)+"px","line-height":o(270)+"px","font-size":o(60)+"px",color:"#fff","text-align":"center",background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)","border-radius":o(10)+"px","margin-bottom":o(30)+"px"}),r.css({display:"block",width:o(t.indexBtn.width)+"px",height:o(t.indexBtn.height)+"px","margin-bottom":o(27)+"px"}),a.css({display:"block",width:o(t.prizeBtn.width)+"px",height:o(t.prizeBtn.height)+"px","margin-bottom":o(27)+"px"}),s.css({display:"block",width:o(t.replayBtn.width)+"px",height:o(t.replayBtn.height)+"px","margin-bottom":o(250)+"px"}),c.css({display:"block",width:o(t.home_btn.width)+"px",height:o(t.home_btn.height)+"px"}),e.append(n).append(i).append(r).append(a).append(s).append(c),this.main=e,this.replayBtn=s,this.indexBtn=r,this.prizeBtn=a,this.homeBtn=c},updateData:function(){var t=this;this.parentObj.loading.show("loading"),this.updateScore().then(function(e){t.parentObj.loading.hide()}).catch(function(e){t.parentObj.loading.hide(),confirm("积分上传失败是否重试？")&&t.updateData()})},updateScore:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentObj.score,i=t.parentObj.token,e.next=3,s.send([c.saveValue({value:n,token:i})]);case 3:return e.abrupt("return","");case 4:case"end":return e.stop()}},e,t)}))()},addEvent:function(){var t=this;u(this.replayBtn).myclickok(function(){t.parentObj.loading.show("loading..."),t.getToken().then(function(e){t.parentObj.loading.hide(),t.parentObj.token=e.token,t.removePage(),t.parentObj.replay()}).catch(function(e){t.parentObj.loading.hide(),t.parentObj.info.show(e)})}),u(this.indexBtn).myclickok(function(){t.parentObj.loading.show("loading..."),t.getList().then(function(e){t.parentObj.loading.hide(),t.hidePage(),t.parentObj.showIndexListPage(t.main,e)}).catch(function(e){t.parentObj.loading.hide(),t.parentObj.info.show(e)})}),u(this.prizeBtn).myclickok(function(){t.removePage(),t.parentObj.showPrizePage(t.main)}),u(this.homeBtn).myclickok(function(){t.removePage(),t.parentObj.game.show(t.parentObj.loadScene)})},removePage:function(){u(this.replayBtn).unbind(!0),u(this.indexBtn).unbind(!0),u(this.prizeBtn).unbind(!0),this.main.remove()},hidePage:function(){this.main.addClass("hidden")},getToken:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentObj,e.next=3,s.send([c.getToken({phoneNo:n.phone,nikeName:n.nickname})]);case 3:return i=e.sent,e.abrupt("return",i[0]);case 5:case"end":return e.stop()}},e,t)}))()},getList:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.send([c.getRanking({})]);case 2:return n=t.sent,t.abrupt("return",n[0]);case 4:case"end":return t.stop()}},e,t)}))()}}},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=n(0),o=function(t){return t/=100,r.rem2Px(750,t)},a=n(4),s=n(5),c=s.ajax,u=s.api,h=n(44);n(1);var l={0:120,1:240,2:300,3:60,4:0,5:180};t.exports={parentObj:null,startBtn:null,main:null,reStartBtn:null,pan:null,resultMain:null,startDeg:0,tempButton:null,homeBtn:null,init:function(t){this.parentObj=t,this.createMain(),$("body").append(this.main),this.addEvent()},createMain:function(){var t=this.parentObj.res,e=$('<div class="box_scc"></div>'),n=$("<div></div>"),i=$(t.prizePan),r=$(t.prizeZhen),a=$(t.prizePageBtn),s=$(t.prizePageText),c=$(t.home_btn),u=$('<div class="box_hcb"></div>');e.css({position:"absolute",left:0,top:0,right:0,bottom:0,"z-index":100}),c.css({display:"block",width:o(t.home_btn.width)+"px",height:o(t.home_btn.height)+"px","margin-top":o(20)+"px"}),n.css({width:o(t.prizePan.width)+"px",height:o(t.prizePan.height)+"px",position:"relative","margin-bottom":o(100)+"px"}),i.css({display:"block",width:o(t.prizePan.width)+"px",height:o(t.prizePan.height)+"px",position:"absolute",left:0,top:0,"z-index":1}),r.css({display:"block",width:o(t.prizeZhen.width)+"px",height:o(t.prizeZhen.height)+"px",position:"absolute",left:"50%",top:"50%","margin-left":-o(t.prizeZhen.width/2)+"px","margin-top":-o(t.prizeZhen.height/2+36)+"px","z-index":2}),a.css({display:"block",width:o(t.prizePageBtn.width)+"px",height:o(t.prizePageBtn.height)+"px",position:"absolute",left:"50%",top:"50%","margin-left":-o(t.prizePageBtn.width/2)+"px","margin-top":-o(t.prizePageBtn.height/2)+"px","z-index":3}),s.css({display:"block",width:o(t.prizePageText.width)+"px",height:o(t.prizePageText.height)+"px"}),u.css({position:"absolute",left:0,top:-o(60)+"px",width:o(625)+"px",height:o(595)+"px","z-index":4}).addClass("hidden"),n.append(i).append(r).append(a).append(u),e.append(n).append(s).append(c),this.startBtn=a,this.main=e,this.pan=i,this.resultMain=u,this.homeBtn=c},addEvent:function(){var t=this;a(this.startBtn).myclickok(i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a(this).unbind(!0),t.prizeStart(t.startDeg);case 2:case"end":return e.stop()}},e,this)}))),a(this.homeBtn).myclickok(function(){t.delPage(),t.parentObj.game.show(t.parentObj.loadScene)})},prizeStart:function(t){var e=this;e.startRote(t),e.getData().then(function(t){t=t.lotteryResult,e.stopRote(t)}).catch(function(t){e.stopRote("")})},getData:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentObj,e.next=3,c.send([u.getLotteryResult({token:n.token,value:n.score})]);case 3:return i=e.sent,i=i[0],e.abrupt("return",i);case 6:case"end":return e.stop()}},e,t)}))()},startRote:function(t){var e=this.pan;this.a=new h({startDeg:t,stepFn:function(t){e.css({transform:"rotate("+t+"deg)"})}})},stopRote:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this;this.startDeg=l[t],this.a.stopRotate(this.startDeg,function(){e.showResult(t)})},showResult:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.resultMain,n=void 0,i=void 0,r=this;0==t?(n=this.parentObj.res.prizePageNothing,i=this.parentObj.res.prizePageReplay):(n=this.parentObj.res["prizePageObj"+t],i=this.parentObj.res.prizePageGet);var s=$(n),c=$(i);s.css({width:o(n.width)+"px",height:o(n.height)+"px",display:"block"}),c.css({display:"block",position:"absolute",width:o(i.width)+"px",height:o(i.height)+"px",left:"50%","margin-left":-o(i.width/2),bottom:o(50)}),e.append(s).append(c),e.removeClass("hidden"),this.tempButton=c;var u=function(){a(c).unbind(!0),e.addClass("hidden"),e.html("")};0==t?a(c).myclickok(function(){r.parentObj.loading.show("loading..."),r.getToken().then(function(t){r.parentObj.loading.hide(),r.parentObj.token=t.token,u(),r.delPage(),r.parentObj.replay()}).catch(function(t){r.parentObj.loading.hide(),r.parentObj.info.show(t)})}):a(c).myclickok(function(){u(),r.delPage(),r.parentObj.showAddressPage()})},delPage:function(){this.tempButton&&a(this.tempButton).unbind(!0),a(this.startBtn).unbind(!0),a(this.homeBtn).unbind(!0),this.a=null,this.main.remove()},getToken:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentObj,e.next=3,c.send([u.getToken({phoneNo:n.phone,nikeName:n.nickname})]);case 3:return i=e.sent,e.abrupt("return",i[0]);case 5:case"end":return e.stop()}},e,t)}))()}}},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=n(0),o=function(t){return t/=100,r.rem2Px(750,t)},a=n(49),s=n(4);n(2);n(1),t.exports={parentObj:null,main:null,btn:null,bannerMain:null,bannerBody:null,bannerObj:null,oldBgSpd:0,init:function(t){var e=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.game.pause(),e.parentObj=t,e.createPage(),$("body").append(e.main),e.addBannerEvent(),n.next=7,e.addEvent();case 7:return e.removePage(),t.game.resume(),n.abrupt("return",!0);case 10:case"end":return n.stop()}},n,e)}))()},createPage:function(){var t=this.parentObj.res,e=$('<div class="box_scc"></div>'),n=$(t.game_sm_title),i=$("<div>《《《 左右滑动方框内图片查看其它内容 》》》</div>"),r=$("<div></div>"),a=$("<div></div>"),s=$("<a></a>"),c=$(t.prize_rule_text),u=$(t.prize_rule_text1),h=$(t.game_sm_banner1),l=$(t.game_sm_banner2),p=$(t.game_sm_banner3),d=$(t.game_sm_banner4),f=$(t.home_btn);n.css3({display:"block",width:o(t.game_sm_title.width)+"px",height:o(t.game_sm_title.height)+"px","margin-bottom":o(20)+"px"}),f.css({display:"block",width:o(t.home_btn.width)+"px",height:o(t.home_btn.height)+"px","margin-top":o(100)+"px"}),i.css({width:"100%",height:o(60)+"px","font-size":"12px",color:"#ccc","text-align":"center",transform:"scale(0.8)","-webkit-transform":"scale(0.8)"}),e.css({position:"absolute",left:0,top:0,right:0,bottom:0,"z-index":100}),r.css({width:o(t.game_sm_banner1.width)+"px",height:o(t.game_sm_banner1.height)+"px",overflow:"hidden"}),s.css({display:"block",width:o(t.game_sm_banner1.width)+"px",height:o(t.game_sm_banner1.height)+"px"});var m=s.clone().append(c),g=s.clone().append(u),v=s.clone().append(h),y=s.clone().append(l),b=s.clone().append(p),w=s.clone().append(d);a.append(m).append(g).append(v).append(y).append(b).append(w),a.find("img").css({display:"block",width:"100%",height:"100%"}),r.append(a),e.append(n).append(r).append(i).append(f),this.main=e,this.btn=f,this.bannerMain=r,this.bannerBody=a},addBannerEvent:function(){var t=this;this.bannerObj=new a({win:t.bannerMain,body:t.bannerBody,time:4e3,animateTime:500,showPoint:!1})},addEvent:function(){var t=this;return new Promise(function(e){s(t.btn).myclickok(function(){e()})})},removePage:function(){this.bannerObj.destroy(),s(this.btn).unbind(!0),this.main.remove()}}},function(t,e,n){"use strict";var i=n(0),r=n(3),o=(n(2),function(t){return t/=100,i.rem2Px(750,t)}),a=function(t){var e=t.res,n=o(e.plain_ts.width),i=o(e.plain_ts.height),a=o(e.plain.width),s=o(e.plain.height),c=t.mainScene.width/2+a/2-o(60),u=t.mainScene.height-s-i,h=new r.sprite({width:n,height:i,x:c,y:u,res:e.plain_ts,data:{},beforeRenderFn:function(){}});return t.mainLayer.append(h),h};t.exports=a},function(t,e,n){"use strict";var i=n(0),r={box:null,img:null,text:null,isExist:!1,isRun:!1,fn:null,scale:1,errimg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABVdJREFUeNq0V1tsVFUUXee+pnc6MI8+qC3QViiNJlVERVHUH0pi5ENifaQGgx8m/miM8UMMfmiMmpiY+IFRA0ow9scaEh8hxoQPUDAa5FFjKG3BCh2h05l2ptNO587ce9z70g5M53V/3MlJ7uxz9lpn77P3PmeE1J9GJZE0ppDFeZnCbzKBizJtTMPqcYBOmoosLksowKUQjKGP7RELHkU4FYgTsHBaTuOkjKtjcrbfgrPThNobgS/QKHyoh+qum4ONKZml9dl0BvZRA8rgOrFi4M38Obsqsa09VaRwyM8LMo1fZAynML1TgXivC4Hue0UEXWIFGkDQECU2vNERsvudInMBs8Ok2/OJPXq4InH+JmLyCufkDJFOmZcxf2gdAn0PiEZ0E2Hdooe1ZIEiMCxncUJOYQzpwTXwP/eqfTpTQpzTnizs+iyRUmjbksh9f4cIbbxfNLgeFklrGKK7DWJdy/U8GLsKOTwBRKeLlsXJjV9lnB05E4S+42X7j4mb5xXHJQXtMo0hpEzay5EtonHjI6IZYSJdml8aMmBCvLgdyr4X3MHfrFu+jm0Zg7EY83PtPnMZsUSMAnQeKYb9qksEejaJMIVWcaOwfNjjk1B23EOWwh38zbpyaxmDsRiTsUs8/lvO83d/I3w77xQhUPa6pVRuxLNzgKHdQKBv1lVaz1iMydhfaw/2F4gnydsZWIYPylsdVCR0HmV3X/DYDWSxsK6aDWMyNnP8oD3sJo1y1VmAkNgVkNr6VtqfI2WNUZrJrKtlx9jMQVy7F0PtcDh2R4RB+xJVd740Sog92DB2A3H4oe5iG01ARKhGtzRQIBwPdepU0Hmxpa6HedhbTqrbIpomxGYdispJUM6bct5V8riWMIcpVDUHZ7NGpJ1+N4ulB1OUXSU9ErMwF9VQp6ZJETQWaxaeQl3GY+mdmLmoNQc1jQ5dXUwqL5IvW07eiZmLORUVSlIRSknLqzQSoBPKZG94a+XdvuzVnrlcTkrzS1IjYuGtLOghgGMfHiwQH/vgAN/FnmyZg7mYU4ybj0cgxCQ0RZXphZqhiiKDU/RAOEP9jmUjQrib+jE3iJqvjkAdnZVDJyObxXjTMxQ667gS9G+1own8n6K2RuAk53/umP3mIU3yLiC/hE/fKg0qKzqzaqKtboR+2xro1GC5V+ZGJpA7fwX5aLy6t3yx+HQqZn3AxXFmM1BC9QedvP260hLuzP8Tq2xN16BYYSL02hPw925yVenDJ5B442DNnFZbwhRheUmEAgdcqFwiBakKi663vSLoB2hUSxBrYqpAylL/2GZkL/5bvbcTJmNLXd3bfmG/df2SkA5yMUqUleYATXyrda6CNMtfjZwXY7lkSdcazc1UJGUsF5OwO4b3DxSCxyHKT6eRj6cg/L5nRTgwZGxYTWdhlL3Yr2VSOP7RoQLx0fc/c2u73FrGYCzGZOyiM/8T2wvn5+tqg96+qk2przuSi8Z7rOErsGfSRR5OUDmdplIaQtLtQj10zd9FJdWCuuIzDQVgdK+G3tow5MwtPNr+47tFjz0xtETMP3QNRlcrjFtvCWiNwS/ysZk+ayQKa/waZDbn7R8CZa6+thm+DW3QmkKD+ank8+3fvZ0uWXcOvSWZa7SvIkPabXtzH2neyceS3dZoFLnLMdipOZQ8Q8hGXVkPfU0TDCozrSk4Sto9bZ++Mlhxg2eXE98cKgKh8KsE1C80tU/m7F7q06ZDf1aWIsAeKvS8VUxfRujqT9J2BvOTMwNrB/ZU/wtzBtuqzJIn4cD1CLiehExhGreTfj3NBhdXJalAR2XG+qtt30sZr13sPwEGAJ9VE3aPBYcqAAAAAElFTkSuQmCC",okimg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABBtJREFUeNqslk+ME1Ucx79v5s1Ot9tu9x+VIqgBVDTRcOHIQQ7EhLh6ABOPnA3cPJgYj8YbnDDcPZgQTTyQbJSbNz2QCBxwyWq6LgLWdlraTufPe8/fzL5pXodZtrvhJd9MOzPvfeb33u8fm+lit8GMKzP+Z0MZgnEtHHwXUCKrQMxYXBZI7QTmU4C4lqOv2X3oxQUpzkkUWF4IzGC2AXG1ZrR4DpgAQlKgFWoJrYlt5jvAMtAsqbwgrdpqn589HNtnXfBDZeW8oaCkz+IHQ0TNLS5ufV+N13ym+vS+rxXodSegzHAay4CVSHOk6icdfPh6bF1a5q805uyD4KxkeIuCUCP040doiebmfUddubGANXqUgAekESnSUGkCWQ5WKUksXnyMLxqcX1hx3obFOEbSQ0CKpJ9OcqwyStYCXJJQIVrhPTyU8tvrB/E1Pe5psK+hqTPZ9ucT1rnastrFTXxZt3FhceY4gbroRk0MRCuFCRWnSn77wiN16IstlO06WNR+97iHuds1/Gac49hzE6BpXXJm1Y+aOH9E4NLC7CGEcoAhgRILdhoygathCnX5PCy/f7I2xPr6PP4yvDaFWsb5pY5SjVBr9HDZoo2NaKGB7KRXYXxukZJ3+rKNWAkkc1/18JkrUNG7NvZsy4i55KZ7+k+ccxjqjlWhreoiljFZgKmUvOuLHhy7Alrj5TMbOKdDyclYeaBT7eG05W4vEMlwalimSAbp1SJEzcOZXOwybgDTYOdDnMRy8rWCtkdh70OB0VxFq9k+3splJ8bz6UwFWBFSW4f9jUjpnQlxIJ9/n8mlYYw4jim+HfFsXZhyCHKciCKPJHZK3uNEGwq0gxHqzNUnvJ9Npa2hNUBrPclVkBSYwdKsP1LYGPVR5xT+trNPCynyAsoxQ4b7Og6lGYfKKDFhZx4/DT36QV8Yi2R79qZkTkDJbEBreBX8oitHnAdmZSZYfwdr/adoDdp0g16Vcg9hkTgbzRn8R0l0gK17p3BTA6N8ppH6ZuAtodVawrXeQ5rY3l5gKqgB6/0DtJbxjV9GV5epzEJkyXuiZ3l0DA+W7uCI6uHNJHDYzLZjKzZZxjONYS2g2wTaNr67vYrr9OiprhZZQVYmcGK0j+LXyl28JP7FCcpYYGYLRRSlrRJ01gEVot4WwShVezZu/H4eX0k7tW5owOTzCvCsLlOVEz/g4+rf+LRUxkppkfIUpWPubk+IabNCgvmdNAyedF/D1T9W8aO27LkFuKjFKGUtxmwbi4d/xgelx3jPHuGoJdBID55jS7jY8Bu4tfk+bgbVsVVZixHlGqoJYFETlTVOZiNla5neHRlNVAbKd2+FXZsyGh9leG+ov5prmNmXmm1ilA/03drEfCdt9p2WAXuhjXARWLyoVv9/AQYAzRaQFve6TfoAAAAASUVORK5CYII=",show:function(t,e){if(this.isRun)return void this.list.push({text:t,isok:e});this.isRun=!0,this.createObj();var n=this;n.text.text(t),e?(n.img.get(0).style.background="url("+n.okimg+") no-repeat",n.img.css(i.fixObjCss({"background-size":22*this.scale+"px "+22*this.scale+"px"}))):(n.img.get(0).style.background="url("+n.errimg+") no-repeat",n.img.css(i.fixObjCss({"background-size":22*this.scale+"px "+22*this.scale+"px"})));var r=parseInt(n.box.height());n.box.css(i.fixObjCss({display:"box","margin-top":-r/2+"px",opacity:1})),n.fn=setTimeout(function(){n.hide(),0!=n.list.length&&setTimeout(function(){var t=n.list.shift();n.show(t.text,t.isok)},1e3)},2e3)},createObj:function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),o=$(t),a=$(e),s=$(n),c=$(r);o.css(i.fixObjCss({width:"100%","z-index":"100000",position:"fixed",left:"0",top:"50%","margin-top":"-15pt",display:"none",opacity:"0","justify-content":"center","align-items":"center"})),a.css(i.fixObjCss({"border-radius":5*this.scale+"pt",background:"#333",color:"#eee",padding:"0 "+7*this.scale+"pt","max-width":320*this.scale+"px","box-sizing":"border-box","box-align":"center",display:"box","flex-direction":"row","box-shadow":"0 0 "+2*this.scale+"pt "+2*this.scale+"pt #aaa","align-items":"center"})),n.style.cssText+="width:"+16*this.scale+"pt;height:"+16*this.scale+"pt;padding:0 "+7*this.scale+"px;",c.css(i.fixObjCss({padding:10*this.scale+"px "+7*this.scale+"px "+10*this.scale+"px 0",flex:"1","line-height":20*this.scale+"pt","font-size":12*this.scale+"pt"})),a.append(s),a.append(c),o.append(a),$("html").append(o),this.box=o,this.text=c,this.img=s},hide:function(){this.box&&(this.box.remove(),this.box=null,this.text=null,this.img=null,this.isRun=!1)},list:[]};t.exports=r},function(t,e,n){"use strict";n(1);var i=n(0),r=function(t){this.obj=1==t.obj.length?t.obj.get(0):t.obj,this.spokes=$.isNumber(t.number)?t.number:7,this.width=$.isNumber(t.width)?t.width:30,this.height=$.isNumber(t.height)?t.height:30,this.lineWidth=$.isNumber(t.lineWidth)?t.lineWidth:5,this.lineHeight=$.isNumber(t.lineHeight)?t.lineHeight:2,this.rgb=t.rgb||"0,0,0",this.spd=t.fps||100,this.canvas=null,this.ctx=null,this.intervalFn=null,this.init()};r.prototype={init:function(){this.createCanvas()},createCanvas:function(){var t=this;if(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,!this.canvas.getContext)return void console.log("not suppot canvas");this.ctx=this.canvas.getContext("2d"),this.ctx.translate(t.width/2,t.width/2),this.ctx.lineWidth=this.lineWidth,this.ctx.lineCap="round",this.appendCanvas()},appendCanvas:function(){this.obj.appendChild(this.canvas)},draw:function(){var t=this.ctx,e=this.spokes,n=this;t.clearRect(-n.width/2,-n.height/2,n.width,n.height),t.rotate(2*Math.PI/e);for(var i=0;i<e;i++)t.rotate(2*Math.PI/e),t.strokeStyle="rgba("+this.rgb+","+i/e+")",t.beginPath(),t.moveTo(0,n.width/3-n.lineHeight),t.lineTo(0,n.width/3),t.stroke()},run:function(){var t=this;this.intervalFn=setInterval(function(){t.draw()},this.spd)},stop:function(){var t=this;clearInterval(this.intervalFn),this.ctx.clearRect(-t.width/2,-t.height/2,t.width,t.height)},destroy:function(){this.stop(),$(this.canvas).remove()}};var o=function(t,e){if(t=t||$("body"),this.win=$.getDom(t),!this.win)return void console.log("loading param error");this.text=null,this.canvas=null,this.div=null,this.downfn=null,this.movefn=null,this.endfn=null,this.scale=3*e||1,this._init()};o.prototype={_init:function(){this._createObj(),this._addEven()},_createObj:function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");$(t).css(i.fixObjCss({position:"fixed","z-index":"99999",left:0,top:0,width:"100%",height:"100%",display:"none","justify-content":"center","align-items":"center"})),$(e).css(i.fixObjCss({padding:20*this.scale+"px",background:"rgba(0,0,0,0.8)","border-radius":5*this.scale+"pt",display:"box","flex-direction":"column","justify-content":"center"})),n.style.cssText="width:"+60*this.scale+"px;height:"+60*this.scale+"px;",o.style.cssText="height:"+30*this.scale+"px;line-height:"+30*this.scale+"px;color:#ccc;font-size:"+12*this.scale+"px;text-align:center;";var a=new r({obj:n,width:60*this.scale,height:60*this.scale,rgb:"230,230,230",lineWidth:5*this.scale,lineHeight:3*this.scale,number:9,fps:100});$(e).append(n).append(o),$(t).append(e),$(this.win).append(t),this.text=o,this.canvas=a,this.div=t},_addEven:function(){var t=this.div,e=this;t.addEventListener(i.START_EV,e.downfn=function(t){t.stopPropagation(),t.preventDefault()},!1),t.addEventListener(i.MOVE_EV,e.movefn=function(t){t.stopPropagation(),t.preventDefault()},!1),t.addEventListener(i.END_EV,e.endfn=function(t){t.stopPropagation(),t.preventDefault()},!1)},show:function(t){$(this.text).text(t),$(this.div).css(i.fixObjCss({display:"box"})),this.canvas.run()},changeText:function(t){$(this.text).text(t)},hide:function(){this.div.style.display="none",this.canvas.stop()},destroy:function(){this.canvas.destroy(),this.canvas=null;var t=this;this.div.removeEventListener(i.START_EV,t.downfn,!1),this.div.removeEventListener(i.MOVE_EV,t.movefn,!1),this.div.removeEventListener(i.END_EV,t.endfn,!1),$(this.div).remove()}},t.exports=o},function(t,e,n){"use strict";var i=function(t){var e,n=t,i=window.innerWidth,r=document.querySelector('meta[name="viewport"]');r?r.setAttribute("content","width= device-width,initial-scale=1,maximum-scale=1, minimum-scale=1,user-scalable=no"):$("head").append('<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1, maximum-scale=1">');var o=document.createElement("style");i=window.innerWidth,e=i/n*100,o.innerHTML="html{font-size:"+e+"px!important;}",document.querySelector("head").appendChild(o);var a=setInterval(function(){i=window.innerWidth;var t=i/n*100;console.log(i,n,e),e!=t&&(e=t,o.innerHTML="html{font-size:"+e+"px!important;}")},500);setTimeout(function(){clearInterval(a)},1e4),$(window).resize(function(){i=window.innerWidth,e=i/n*100,o.innerHTML="html{font-size:"+e+"px!important;}"})};t.exports=i},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(31),a=n(0),s=n(3),c=n(30),u=n(29),h=function(t){return t/=100,a.rem2Px(750,t)},l=(n(7).image,n(2)),p=n(13),d=n(17),f=n(18),m=n(14),g=n(16),v=n(15),y=n(21),b=n(27),w=n(24),x=n(25),k=n(23),_=n(26),P=n(22),S=n(28),O=n(19),j=n(10),E=n(5),T=(E.ajax,E.api,n(20)),B=T.res,z=T.mp3;n(6);var F=["bg","logo"];o(750),$(document).ready(function(){s.preventScroll(),R.init().catch(function(t){return console.log(t)})});var R={loading:null,info:null,isGameOver:!0,res:{},music:{},game:null,bgScene:null,loadScene:null,mainScene:null,mainLayer:null,plain:null,scoreArea:null,bullets:[],enemys:[],powerBoxs:[],score:0,showTs:!1,ts:null,showTsStep:0,stepFn:null,token:null,phone:null,nickname:null,init:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,t.loading=new c,t.info=u,t.game=new s.app({pauseFn:function(){n.music.bg&&!n.isGameOver&&n.music.bg.pause()},resumeFn:function(){n.music.bg&&!n.isGameOver&&n.music.bg.play()}}),t.createBg(),e.next=7,t.getRes();case 7:return t.game.run(),e.next=10,t.createLoadPage();case 10:case"end":return e.stop()}},e,t)}))()},createBg:function(){this.bgScene=new s.scene,this.game.append(this.bgScene)},getRes:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n,i,o,a,s,c,u,h,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n={},i=!0,o=!1,a=void 0,e.prev=4,s=Object.entries(B)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)u=c.value,h=r(u,2),l=h[0],d=h[1],F.indexOf(l)>-1&&(n[l]=d);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),o=!0,a=e.t0;case 12:e.prev=12,e.prev=13,!i&&s.return&&s.return();case 15:if(e.prev=15,!o){e.next=18;break}throw a;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.next=22,p.init(t.bgScene,n);case 22:t.res=e.sent;case 23:case"end":return e.stop()}},e,t,[[4,8,12,20],[13,,15,19]])}))()},createLoadPage:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadScene=new s.scene,t.game.append(t.loadScene),e.next=4,d.init(t.loadScene,t.res,B,z,t);case 4:n=e.sent,t.res=n.res,t.music=n.mp3;case 7:case"end":return e.stop()}},e,t)}))()},showPrizeRulePage:function(){var t=this;return i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.game.hidden(t.loadScene),e.next=3,b.init(t);case 3:t.game.show(t.loadScene);case 4:case"end":return e.stop()}},e,t)}))()},showLoginPage:function(){this.game.hidden(this.loadScene),w.init(this)},firstPlay:function(){this.music.bg&&this.music.bg.play(),this.bullets=[],this.enemys=[],this.powerBoxs=[],this.score=0,this.game.step=0,this.createMain(),this.addFrameFn()},createMain:function(){this.isGameOver=!1,this.mainScene=new s.scene,this.game.append(this.mainScene),this.mainLayer=new s.layer({width:this.mainScene.width,height:this.mainScene.height,zIndex:2}),this.mainScene.append(this.mainLayer),this.plain=f.init(this.mainScene,this.mainLayer,this.res,this.game,this),this.showTsFn(),this.scoreArea=y(this.mainScene,this.mainLayer,this)},showTsFn:function(){var t=j.getItem("ts1")||"";if(this.showTs=!t,j.setItem("ts1","1"),this.showTs){this.ts=S(this),this.showTsStep=this.game.step+2;var e=null,n=this;window.addEventListener(a.START_EV,e=function(){n.showTs=!1,n.game.step=0,n.game.resume(),n.mainLayer.del(n.ts),window.removeEventListener(a.START_EV,e,!1)},!1)}},addFrameFn:function(){var t=this;this.game.addFn(this.stepFn=function(){if(t.showTs&&t.game.isFrame(t.showTsStep)&&t.game.pause(),t.game.isFrame(l.powerBox)&&t.powerBoxs.push(O.init(t)),t.game.isFrame(l.nowBulletParam.interval)){var e=m(t.plain,t.mainLayer,t.res);t.bullets.push(e),t.music.shot&&(t.music.shot.volume(.2),t.music.shot.play())}var n=l.getEnemyInterVal(t.game.step);if(t.game.isFrame(n)){var i=l.getEnemyType(t.game.step),r=g(i,t.mainScene,t.mainLayer,t.res,t);t.enemys.push(r)}t.game.isFrame(1)&&(v.init(t.plain,t.bullets,t.enemys,t.powerBoxs),t.bullets=t.bullets.filter(function(e){if(!e.data.isDel&&e.y1>0)return e;t.mainLayer.del(e)}),t.enemys=t.enemys.filter(function(e){if(!e.data.isDel)return e;t.mainLayer.del(e)}),t.powerBoxs=t.powerBoxs.filter(function(e){if(!e.data.isDel)return e;t.mainLayer.del(e)}))})},delMainScene:function(){this.game.delFn(this.stepFn),this.game.del(this.mainScene),this.game.resume()},replay:function(){this.delMainScene(),this.bullets=[],this.enemys=[],this.powerBoxs=[],this.score=0,this.game.step=0,this.createMain(),this.addFrameFn(),this.music.bg&&this.music.bg.play()},endPlay:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,t.game.pause(),$("body").cssAnimate({opacity:0},2e3,function(){n.delMainScene(),x.init(n)});case 3:case"end":return e.stop()}},e,t)}))()},showIndexListPage:function(t,e){var n=this;return i(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,k.init(n,e);case 2:t.removeClass("hidden");case 3:case"end":return i.stop()}},i,n)}))()},showPrizePage:function(t){_.init(this)},showAddressPage:function(){P.init(this)}};window.page=R,window.r2p=h},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=Symbol(""),s=Symbol(""),c=Symbol(""),u=Symbol(""),h=Symbol(""),l=Symbol(""),p=!0,d=0,f=Symbol(),m=Symbol(),g=Symbol(),v=!1,y=0,b=Symbol(),w=void 0,x=void 0,k=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this[s]=e.body||$("body"),this.pauseFn=e.pauseFn||function(){},this.resumeFn=e.resumeFn||function(){},w=this.pauseFn,x=this.resumeFn,this[c]=!1,this[u]=[],this[h]=null,this[m]=null,this[l](),this[f](),this[b]=[],this.step=0}return r(t,[{key:l,value:function(){o.checkDomHasPosition(this[s])||this[s].css({position:"relative"})}},{key:"append",value:function(t){return t.parent=this[s],this[u].push(t),this}},{key:"del",value:function(t){var e=this[u].indexOf(t);e>-1&&(this[u].splice(e,1),t.dom.remove())}},{key:"hidden",value:function(t){var e=this[u].indexOf(t);e>-1&&(this[u].splice(e,1),t.dom.css({display:"none"}))}},{key:"show",value:function(t){this.append(t),t.dom.css({display:"block"})}},{key:"isFrame",value:function(t){return this.step%t==0}},{key:"addFn",value:function(t){this[b].push(t)}},{key:"delFn",value:function(t){var e=this[b].indexOf(t);this[b].splice(e,1)}},{key:a,value:function(){this[u].map(function(t){t.render()})}},{key:"run",value:function(){var t=this;this[c]=!0,function e(){v&&t[g]((new Date).getTime()),p&&t[c]&&(t.step++,t[b].map(function(t){t()}),t[a]()),t[h]=requestAnimationFrame(e)}()}},{key:"pause",value:function(){this.pauseFn(),this[c]=!1}},{key:"resume",value:function(){this.resumeFn(),this[c]=!0}},{key:"destroy",value:function(){cancelAnimationFrame(this[h])}},{key:f,value:function(){var t=$("<span></span>");t.css({position:"absolute",right:0,bottom:0,"z-index":"100000",display:"none"}),this[s].append(t),this[m]=t}},{key:g,value:function(t){var e=t-d;d=t,++y%6==0&&(y=0,this[m].text(parseInt(1e3/e)))}},{key:"showFrame",value:function(){this[m].css({display:"block"}),v=!0}}]),t}();!function(){window.addEventListener("focus",function(){p=!0,x()}),window.addEventListener("blur",function(){p=!1,w()})}(),t.exports=k},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(11),u=Symbol(),h=Symbol(),l=Symbol(),p=Symbol(),d=Symbol(),f=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.scene=t.scene,n[u]=null,n[l]=["myclickdown","myclickup","myclickok","mymove"],n}return o(e,t),a(e,[{key:"startFn",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"startFn",this).call(this,t),this[h](),this[u]&&this[u].myclickdownFn&&this[u].myclickdownFn.call(this[u])}},{key:h,value:function(){for(var t=this[p](),e=t.x,n=t.y,i=this.scene.layers,r=!1,o=i.length-1;o>=0;o--){var a=i[o],s=a.sprites;if(r)break;for(var c=s.length-1;c>=0;c--){var h=s[c];if(this[d](e,n,h)){r=!0,this[u]=h;break}}}}},{key:d,value:function(t,e,n){if(!(t>n.x&&t<n.x1&&e>n.y&&e<n.y1))return!1;var i=this[l],r=!1;return i.map(function(t){n[t+"Fn"]&&(r=!0)}),r}},{key:p,value:function(){var t=this.points.length-1,e=this.points[t],n=e.x,i=e.y,r=this.scene.dom.offset(),o=document.body.scrollTop,a=document.body.scrollLeft,s=r.top-o;return{x:n-(r.left-a),y:i-s}}},{key:"moveFn",value:function(t){if(this[u]){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveFn",this).call(this,t);var n=this[p](),i=n.x,r=n.y;this[d](i,r,this[u])||(this[u].myclickupFn&&this[u].myclickupFn.call(this[u]),this[u]=null)}}},{key:"endFn",value:function(t){this[u]&&(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"endFn",this).call(this,t),this[u].myclickupFn&&this[u].myclickupFn.call(this[u]),this[u].myclickokFn&&this[u].myclickokFn.call(this[u]),this[u]=null)}},{key:"destroy",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}(c);t.exports=f},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(3),a=Symbol(),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,t),this.img=e.img,this.width=e.width,this.height=e.height,this.x=e.x||0,this.y=e.y||0,this.time=e.time,this.style=e.style,this.groupBeforeRenderFn=e.groupBeforeRenderFn||function(){},this.g=null,this[a](),this.g}return r(t,[{key:a,value:function(){var t=new o.sprite({width:this.width,height:this.height,res:this.img,x:0,y:0}),e=new o.sprite({width:this.width,height:this.height,res:this.img,x:0,y:-this.height}),n=new o.group({width:this.width,height:2*this.height,x:this.x,y:this.y,groupBeforeRenderFn:this.groupBeforeRenderFn});n.append("bg",t).append("bg1",e),this.g=n}}]),t}();t.exports=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=Symbol(),a=Symbol(),s=Symbol(),c=Symbol(),u=Symbol(),h=Symbol(),l=Symbol(),p=Symbol(),d=Symbol(),f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.width=e.width,this.height=e.height,this.zIndex=e.zIndex||1,this[o]=[],this[a]=null,this[s]=null,this[u]=null,this[c]()}return r(t,[{key:c,value:function(){var t=document.createElement("canvas"),e=t.getContext("2d");this[s]=t,this[u]=e}},{key:h,value:function(){var t=parseInt(this[a].width()),e=parseInt(this[a].height()),n=this.width?this.width:t,i=this.height?this.height:e,r=(t-n)/2,o=(e-i)/2;0!=n&&0!=i&&($(this[s]).css({position:"absolute",left:r,top:o,"z-index":this.zIndex}),this[l](n,i))}},{key:l,value:function(t,e){var n=this[s],i=this[u],r=window.devicePixelRatio||1,o=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,a=r/o;n.width=t*a,n.height=e*a,n.style.width=t+"px",n.style.height=e+"px",i.scale(a,a)}},{key:p,value:function(){var t=this;this[o].map(function(e){e.parent=t[s]})}},{key:"append",value:function(t){return t.parent=this[s],this[o].push(t),this}},{key:"del",value:function(t){var e=this[o].indexOf(t);e>-1&&this[o].splice(e,1)}},{key:d,value:function(){this[u].fillStyle="rgba(0,0,0,0)",this[u].clearRect(0,0,this[s].width,this[s].height),this[s].style.display="none",this[s].offsetHeight,this[s].style.display="inherit"}},{key:"render",value:function(){this[d](),this[o].map(function(t){t.render()})}},{key:"destroy",value:function(){this[s].remove()}},{key:"parent",set:function(t){this[a]=t,t.append(this[s]),this[h](),this[p]()},get:function(){return this[a]}},{key:"sprites",get:function(){return this[o]}}]),t}();t.exports=f},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(34),a=Symbol(),s=Symbol(),c=Symbol(),u=Symbol(),h=Symbol(),l=Symbol(),p=Symbol(),d=function(){function t(){i(this,t),this[u]=[],this[c]=null,this[h]=null,this[p]=null,this[a](),this.width=null,this.height=null}return r(t,[{key:a,value:function(){var t=$("<div></div>");this[c]=t}},{key:s,value:function(){var t=parseInt(this[h].width()),e=parseInt(this[h].height());this.width=t,this.height=e,this[c].css({width:t+"px",height:e+"px",position:"absolute",left:0,top:0})}},{key:l,value:function(){var t=this;this[u].map(function(e){e.parent=t[c]})}},{key:"append",value:function(t){return t.parent=this[c],this[u].push(t),this}},{key:"del",value:function(t){var e=this[u].indexOf(t);e>-1&&this[u].splice(e,1)}},{key:"render",value:function(){this[u].map(function(t){t.render()})}},{key:"addEvent",value:function(){this[p]=new o({dom:this[c],scene:this})}},{key:"destroy",value:function(){this[p]&&this[p].destroy(),this[c].remove()}},{key:"dom",get:function(){return this[c]}},{key:"layers",get:function(){return this[u]}},{key:"parent",set:function(t){this[h]=t,this[s](),t.append(this[c]),this[l]()},get:function(){return this[h]}}]),t}();t.exports=d},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=n(40),c=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),e}(a(s));t.exports=c},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(9),u=n(8),h=Symbol(),l=Symbol(),p=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n[h]=new Map,n.groupBeforeRenderFn=t.groupBeforeRenderFn||function(){},n}return a(e,t),s(e,[{key:"children",value:function(t){var e=this[h].get(t);return e?e.sprite:null}},{key:"append",value:function(t,e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return this[h].set(t,{param:n,sprite:e}),this}},{key:l,value:function(t,e){e.parent=this.parent,e.x=this.x+t.x,e.y=this.y+t.y,e.x1=e.x+e.width,e.y1=e.y+e.height,e.rotate=this.rotate,e.scale=this.scale,e.alpha=this.alpha,e.centerX=this.centerX,e.centerY=this.centerY,e.flipHorizontal=this.flipHorizontal,e.flipVertical=this.flipVertical}},{key:"render",value:function(){var t=this;this.groupBeforeRenderFn.call(this),[].concat(i(this[h].values())).map(function(e){var n=e.param,i=e.sprite;t[l](n,i),i.render()})}}]),e}(c),d=function(t){function e(t){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return a(e,t),e}(u(p));t.exports=d},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(9),u=Symbol(),h=Symbol(),l=Symbol(),p=Symbol(),d=Symbol(),f=Symbol(),m=Symbol(),g=Symbol(),v=Symbol(),y=Symbol(),b=Symbol(),w=Symbol(),x=Symbol(),k=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n[f]=t.res,n[d]=!1,n[g]=0,n[v]=-1,n}return o(e,t),a(e,[{key:"setResAnimateList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this[y](),this[u]=t.resList||[];var e=this[u].length-1;this[b]=t.canStopResPointer||[e],this[h]=t.frame||5,this[l]=!!$.isBoolean(t.infinite)&&t.infinite,this[p]=t.callback||function(){}}},{key:"resAnimatePlay",value:function(){this[d]=!0}},{key:"resAnimateStop",value:function(){this[d]=!1}},{key:"resAnimateClear",value:function(){this.res=this[f],this[y]()}},{key:y,value:function(){this[g]=0,this[d]=!1,this[v]=-1}},{key:w,value:function(){return!!this[d]||-1!=this[v]&&-1==this[b].indexOf(this[v])}},{key:m,value:function(){this[w]()&&++this[g]>this[h]&&(this[g]=0,this[x]())}},{key:x,value:function(){if(++this[v]==this[u].length){if(!this[l])return this.resAnimateClear(),void this[p]();this[v]=0}var t=this[v];this.res=this[u][t]}},{key:"render",value:function(){this[m](),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"render",this).call(this)}}]),e}(c);t.exports=k},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(9),c=Symbol(),u=Symbol(),h=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.text=t.text||"",n.fontSize=t.fontSize||20,n.color=t.color||"#000",n.bold=t.bold||"",n.lineHeight=t.lineHeight||n.fontSize,n.textAlign=t.textAlign||"left",n.ctxTextBaseline="middle",n.ctxTextAlign="left",n.beforeRenderFn=t.beforeRenderFn||function(){},n[u]=[],n[c](),n}return o(e,t),a(e,[{key:"refresh",value:function(){this[c]()}},{key:c,value:function(){var t=document.createElement("canvas"),e=t.getContext("2d"),n=[];if(e.font=this.fontSize+"px 宋体",this.fontSize>this.width){var i=!0,r=!1,o=void 0;try{for(var a,s=this.text[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value;n.push(c)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}else{var h=0,l=[],p=[];l.push(p);var d=!0,f=!1,m=void 0;try{for(var g,v=this.text[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var y=g.value;h+=e.measureText(y).width,p.push(y),h>this.width-this.fontSize&&(p=[],h=0,l.push(p))}}catch(t){f=!0,m=t}finally{try{!d&&v.return&&v.return()}finally{if(f)throw m}}var b=!0,w=!1,x=void 0;try{for(var k,_=l[Symbol.iterator]();!(b=(k=_.next()).done);b=!0){var P=k.value;n.push(P.join(""))}}catch(t){w=!0,x=t}finally{try{!b&&_.return&&_.return()}finally{if(w)throw x}}}this[u]=n}},{key:"render",value:function(){var t=this.setCtx(),e=t.x,n=t.y;this.beforeRenderFn.call(this),"center"==this.textAlign&&(e+=this.width*this.scale/2,this.ctxTextAlign="center"),"right"==this.textAlign&&(e+=this.width*this.scale,this.ctxTextAlign="right"),this.ctx.fillStyle=this.color,this.ctx.font=this.bold+" "+this.fontSize*this.scale+"px 宋体",this.ctx.textBaseline=this.ctxTextBaseline,this.ctx.textAlign=this.ctxTextAlign;for(var i=0,r=this[u].length;i<r;i++){var o=i*this.lineHeight*this.scale;this.ctx.fillText(this[u][i],e,n+this.lineHeight*this.scale/2+o)}this.restoreCtx()}}]),e}(s);t.exports=h},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=n(41),c=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),e}(a(s));t.exports=c},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(11),u=Symbol(),h=Symbol(),l=Symbol(),p=Symbol(),d=Symbol(),f=Symbol(),m=Symbol(),g=Symbol(),v=Symbol(),y=Symbol(),b=Symbol(),w=Symbol(),x=Symbol(),k=Symbol(),_=Symbol(),P=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n[h]=t.myTouchDown||function(){},n[l]=t.myTouchUp||function(){},n[p]=t.myTouch||function(){},n[d]=t.myLongTouch||function(){},n[f]=t.mySlideLeft||function(){},n[m]=t.mySlideRight||function(){},n[g]=t.mySlideUp||function(){},n[v]=t.mySlideDown||function(){},n[y]=t.myMove||function(){},n.canMoveLength=t.canMoveLength||20,n.longClickTime=t.longClickTime||1e3,n.slideMaxTime=t.slideMaxTime||500,n[u]=!1,n[b]=!0,n[x]=!1,n}return o(e,t),a(e,[{key:"startFn",value:function(t){var n=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"startFn",this).call(this,t),t.myTarget=this.target,this[u]=!0,this[b]=!0,this[x]=!1,this[h](t),this[k]=setTimeout(function(){n[b]&&(n[x]=!0,n[l](t),n[d](t))},this.longClickTime)}},{key:"moveFn",value:function(t){t.myTarget=this.target,this[u]&&(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveFn",this).call(this,t),this[w]()&&(this[b]=!1))}},{key:"endFn",value:function(t){if(t.myTarget=this.target,this[u]&&(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"endFn",this).call(this,t),this[u]=!1,!this[x])){if(clearTimeout(this[k]),this[l](t),this[b])return void this[p](t);this.touchStartTime-t.timestamp>this.slideMaxTime||this[_](t)}}},{key:w,value:function(){var t=this.points.length,e=this.points[0],n=this.points[t-1],i=Math.abs;if(!e||!n)return!0;var r=n.x-e.x,o=n.y-e.y;return this[y](r,o),i(r)>this.canMoveLength||i(o)>this.canMoveLength}},{key:_,value:function(t){var e=this.points.length,n=this.points[0],i=this.points[e-1],r=Math.abs,o=i.x-n.x,a=i.y-n.y;r(o)>r(a)?o>0?this[m](t):this[f](t):a>0?this[v](t):this[g](t)}}]),e}(c);t.exports=P},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=o.nextFrame,s=o.cancelFrame,c=function(){function t(e){i(this,t),this.startDeg=e.startDeg||0,this.rotateSpd=e.rotateSpd||10,this.stepFn=e.stepFn||function(){},this.callback=null,this.nowDeg=this.startDeg,this.startLessDeg=null,this.animateFn=null,this.isStartLess=!1,this.startRotate()}return r(t,[{key:"startRotate",value:function(){var t=this;!function e(){var n=void 0;null==t.startLessDeg||t.isStartLess||t.nowDeg==t.startLessDeg&&(t.isStartLess=!0,t.nowDeg+=t.rotateSpd/2),t.isStartLess?(t.rotateSpd-=t.lessSpd,n=t.nowDeg+t.rotateSpd):n=t.nowDeg+t.rotateSpd,n=n>=360?n-360:n,t.nowDeg=n,t.stepFn(t.nowDeg),t.rotateSpd<=0?(t.stepFn(t.endDeg),t.callback(),s(t.animateFn)):t.animateFn=a(e)}()}},{key:"stopRotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1];this.callback=e||function(){};var n=1080+t,i=n/(this.rotateSpd/2),r=this.rotateSpd/i;this.lessSpd=r,this.startLessDeg=0,this.endDeg=t}}]),t}();t.exports=c},function(t,e,n){"use strict";t.exports={Linear:function(t,e,n,i){return n*t/i+e},Quad:{easeIn:function(t,e,n,i){return n*(t/=i)*t+e},easeOut:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}},Cubic:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOut:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}},Quart:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOut:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}},Quint:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOut:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}},Sine:{easeIn:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOut:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOut:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e}},Expo:{easeIn:function(t,e,n,i){return 0==t?e:n*Math.pow(2,10*(t/i-1))+e},easeOut:function(t,e,n,i){return t==i?e+n:n*(1-Math.pow(2,-10*t/i))+e},easeInOut:function(t,e,n,i){return 0==t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e}},Circ:{easeIn:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOut:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}},Elastic:{easeIn:function(t,e,n,i,r,o){if(0==t)return e;if(1==(t/=i))return e+n;if(o||(o=.3*i),!r||r<Math.abs(n)){r=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/r);return-r*Math.pow(2,10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/o)+e},easeOut:function(t,e,n,i,r,o){if(0==t)return e;if(1==(t/=i))return e+n;if(o||(o=.3*i),!r||r<Math.abs(n)){r=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*t)*Math.sin((t*i-a)*(2*Math.PI)/o)+n+e},easeInOut:function(t,e,n,i,r,o){if(0==t)return e;if(2==(t/=i/2))return e+n;if(o||(o=i*(.3*1.5)),!r||r<Math.abs(n)){r=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/r);return t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/o)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-a)*(2*Math.PI)/o)*.5+n+e}},Back:{easeIn:function(t,e,n,i,r){return void 0==r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e},easeOut:function(t,e,n,i,r){return void 0==r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeInOut:function(t,e,n,i,r){return void 0==r&&(r=1.70158),(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e}},Bounce:{easeIn:function(t,e,n,i){return n-tween.Bounce.easeOut(i-t,0,n,i)+e},easeOut:function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOut:function(t,e,n,i){return t<i/2?.5*tween.Bounce.easeIn(2*t,0,n,i)+e:.5*tween.Bounce.easeOut(2*t-i,0,n,i)+.5*n+e}}}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(47);var o=function(){function t(e){i(this,t),this.dom=e.dom,this.children=e.children||this.dom.children(),this.style=e.style||{},this.runTime=e.runTime||500,this.stepTime=e.stepTime||10,this.animateType=e.animateType||"easeInOut",this.infinite=e.infinite||!1,this.alternate=e.alternate||!1,this.callback=e.callback||"",this.delayTime=e.delayTime||0,this.willChange=e.willChange||"auto",this._init()}return r(t,[{key:"_init",value:function(){this._run()}},{key:"_run",value:function(){for(var t=0,e=this.children.length;t<e;t++){var n=this.children[t],i=this.delayTime+t*this.stepTime,r=function(){},o=this;t==e-1&&(r=function(){var t=$(this).parent();o.callback.call(t.get(0))}),$(n).classAnimate(this.style,this.runTime,this.animateType,this.infinite,this.alternate,r,i,this.willChange)}}}]),t}();$.fn.childrenStepAnimate=function(t){t.dom=$(this),new o(t)},t.exports=null},function(t,e,n){"use strict";n(1);var i=n(0);$.fn.classAnimate=function(){var t={},e=function(e,n){e.get(0).removeEventListener(i.ANIEND_EV,t[n],!1),e.removeClassAnimate(),delete t[n]},n=function(n,r,o,a){var s="__temp_"+i.counter()+"__";r.get(0).addEventListener(i.ANIEND_EV,t[s]=function(t){n==t.animationName&&(r.css(a),o.call(this),e(r,s))},!1)};return function(t,e,r,o,a,s,c,u){var h="__keyframes_"+i.counter()+"__";e=parseInt(e)||1e3,r=r||"linear",o=$.getBloom(o),s=$.getFunction(s),a=$.getBloom(a),u=u||"auto",c=c||0,e+="ms",c+="ms",o=o?"infinite":"",a=a?"alternate":"";var l=h+"class__";if(!$.isObject(t))throw"css3Animate 参数样式结构错误";var p="",d=$("<style id='"+l+"'></style>"),f=" animation: "+h+" "+e+" "+r+" "+c+" "+o+" "+a+";";f=$.css3(f),f="."+l+"{"+f+"} @keyframes "+h+"{";for(var m in t)if(t.hasOwnProperty(m)){var g=$.css3(t[m]);f+=m+" {"+g+"}",p=g}f+="}",d.text(f),$("head").append(d);var v={};p=p.split(";");for(var y=0,b=p.length;y<b;y++){var w=p[y].split(":");if(2==w.length){var x=$.trim(w[0]),k=$.trim(w[1]);v[x]=k}}return $(this).each(function(){"none"==$(this).css("display")||"hidden"==$(this).css("visibility")||($(this).css({"will-change":u}),$(this).addClass(l),$(this).get(0).__animate_css3_class__=l)}),o?$(this):($(this).each(function(){"none"==$(this).css("display")||"hidden"==$(this).css("visibility")||n(h,$(this),s,v)}),$(this))}}(),$.fn.removeClassAnimate=function(){var t={};$(this).each(function(){var e=$(this).get(0).__animate_css3_class__;t[e]=!0,$(this).removeClass(e),$(this).css({"will-change":"auto"})});for(var e in t)if(t.hasOwnProperty(e)){var n=$("#"+e);0!=n.length&&n.remove()}},t.exports=null},function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,o){try{var a=e[r](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(12),c=Symbol(),u=Symbol(),h=Symbol(),l=Symbol(),p=Symbol(),d=Symbol(),f=function(){function t(e,n){return r(this,t),this.data=e,this.propFn=n||function(){},this[d]()}return a(t,[{key:d,value:function(){var t=this;return new Promise(function(e,n){t[u]().then(function(t){if("string"==typeof t)return void e({state:0,msg:t});var n={};t.map(function(t){var e=t.key,i=t.val;n[e]=i}),e({state:1,data:n})}).catch(function(t){e({state:0,msg:t})})})}},{key:u,value:function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function t(){var e,n,i,r,a,u,l,d,f,m,g,v,y;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this[c](),t.next=3,new s(e,this.propFn);case 3:if(n=t.sent,0!=n.state){t.next=6;break}return t.abrupt("return",n.msg);case 6:for(n=n.data,i=this[h](n),r=[],a=!0,u=!1,l=void 0,t.prev=12,d=Object.entries(i)[Symbol.iterator]();!(a=(f=d.next()).done);a=!0)m=f.value,g=o(m,2),v=g[0],y=g[1],r.push(this[p](v,y));t.next=20;break;case 16:t.prev=16,t.t0=t.catch(12),u=!0,l=t.t0;case 20:t.prev=20,t.prev=21,!a&&d.return&&d.return();case 23:if(t.prev=23,!u){t.next=26;break}throw l;case 26:return t.finish(23);case 27:return t.finish(20);case 28:return t.next=30,Promise.all(r);case 30:return t.abrupt("return",t.sent);case 31:case"end":return t.stop()}},t,this,[[12,16,20,28],[21,,23,27]])}));return t}()},{key:c,value:function(){var t={},e=!0,n=!1,i=void 0;try{for(var r,a=Object.entries(this.data)[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var s=r.value,c=o(s,2),u=c[0],h=c[1];t[u]=h.src}}catch(t){n=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}return t}},{key:h,value:function(t){var e={},n=!0,i=!1,r=void 0;try{for(var a,s=Object.entries(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,u=o(c,2),h=u[0],p=u[1],d=this.data[h].map.split(","),f=o(d,4),m=f[0],g=f[1],v=f[2],y=f[3];e[h]=this[l](p,m,g,v,y)}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return e}},{key:l,value:function(t,e,n,i,r){var o=document.createElement("canvas"),a=o.getContext("2d");return o.width=i,o.height=r,a.drawImage(t,e,n,i,r,0,0,i,r),o.toDataURL("image/png")}},{key:p,value:function(t,e){return new Promise(function(n,i){var r=new Image;r.onload=function(){n({key:t,val:this})},r.src=e})}}]),t}();t.exports=f},function(t,e,n){"use strict";n(1),n(6);var i=n(0),r=n(4),o=function(t){this.win=t.win,this.body=t.body,this.imgLength=this.body.find("a").length,this.time=t.time||5e3,this.animateTime=t.animateTime||1e3,this.showPoint=!$.isBoolean(t.showPoint)||t.showPoint,this.leftBtn=t.rightBtn,this.rightBtn=t.leftBtn,this.pointBg="#fff",this.pointSelectBg="rgb(32,177,160)",this.changeStartFn=t.changeStartFn||function(){},this.changeEndFn=t.changeEndFn||function(){},this.winWidth=parseInt(this.win.width()),this.winHeight=parseInt(this.win.height()),this.page=0,this.maxPage=this.imgLength-1,this.intervalFn=null,this.points=[],this.pointBody=null,this.touchStartTime=0,this.touchPoints=[],this.leftPx=0,this.init()};o.prototype={init:function(){this.styleSet(),this.addPoint(),this.setDiv(),this.addEvent()},styleSet:function(){this.win.css({position:"relative",overflow:"hidden"}),this.body.css({position:"absolute",left:0,top:0}),this.body.find("a").css({display:"block",width:this.winWidth+"px",height:this.winHeight+"px",border:"none",overflow:"hidden",position:"relative"}),this.body.find("a").css({float:"left",display:"block"})},addPoint:function(){var t=this,e=$("<div></div>"),n=20*t.imgLength,i=this.showPoint?"block":"none";e.css({width:n+"px",height:"10px",position:"absolute",bottom:"0.2rem",left:"50%","margin-left":-n/2+"px",display:i,"z-index":9999});var r=$("<div></div>");r.css({width:"10px",height:"10px",margin:"0 5px",background:this.pointBg,"border-radius":"5px",float:"left",border:"1pt solid transparent"}).addClass("border_box");for(var o=0,a=this.imgLength;o<a;o++){var s=r.clone().attr({n:o});0==o&&s.css({background:this.pointSelectBg,"border-color":this.pointSelectBg}),e.append(s)}this.points=e.find("div"),this.pointBody=e,this.win.append(e)},setDiv:function(){this.body.stop(!0,!0),this.winWidth=parseInt(this.win.width()),this.winHeight=parseInt(this.win.height());var t=this.winWidth*this.imgLength;this.body.css({width:t+"px",height:"100%"}),this.body.find("a").css({width:this.winWidth+"px",height:"100%"})},addEvent:function(){var t=this;window.addEventListener("resize",t.resizeFn=function(){t.setDiv()},!1);var e=function(){t.imgLength<=1||(t.intervalFn=setInterval(function(){t.page++,t.animate()},t.time),t.animate())};if(i.hasTouch){var n=this.win.get(0);n.addEventListener(i.START_EV,t.startEventFn=function(e){t.body.stop(!0),clearInterval(t.intervalFn),t.leftPx=parseInt(t.body.css("left")),t.intervalFn=null,t.startEvent(e)},!1),n.addEventListener(i.MOVE_EV,t.moveEventFn=function(e){t.savePoint(e);var n=t.touchPoints[t.touchPoints.length-1],i=n.x,r=n.y,o=t.touchPoints[0],a=o.x,s=o.y,c=i-a,u=r-s;Math.abs(c)>Math.abs(u)&&(e.preventDefault(),t.moveEvent(e,c))},!1),n.addEventListener(i.END_EV,t.endEventFn=function(n){t.endEvent(n),t.intervalFn||e()},!1),e()}else this.win.hover(function(){t.body.stop(!0),clearInterval(t.intervalFn),t.intervalFn=null},function(){t.intervalFn||e()}),this.points.mouseover(function(){t.page=$(this).attr("n"),t.animate()}),e();this.leftBtn&&r(this.leftBtn).myclickok(function(){clearInterval(t.intervalFn),t.intervalFn=null,e(),t.page++,t.animate()}),this.rightBtn&&r(this.rightBtn).myclickok(function(){clearInterval(t.intervalFn),t.intervalFn=null,e(),t.page--,t.animate()})},animate:function(){this.page=this.page>this.maxPage?0:this.page,this.page=this.page<0?this.maxPage:this.page,this.points.css({background:this.pointBg,"border-color":this.pointSelectBg}),this.points.eq(this.page).css({background:this.pointSelectBg,"border-color":"#fff"}),this.body.get(0).style[i._transitionDuration]="",this.changeStartFn(this.page);var t=this;this.body.cssAnimate({left:-this.page*this.winWidth+"px"},this.animateTime,function(){t.changeEndFn(t.page)})},startEvent:function(t){this.touchPoints=[],this.touchStartTime=(new Date).getTime(),this.savePoint(t)},moveEvent:function(t,e){if(0!=this.touchStartTime){var n=this.leftPx+e;this.body.css({left:n+"px"})}},endEvent:function(){if(0==this.touchStartTime)return void this.scrollBack();if(this.touchPoints.length<2)return void this.scrollBack();var t=(new Date).getTime(),e=t-this.touchStartTime,n=this;this.touchStartTime=0;var i=this.touchPoints[this.touchPoints.length-1],r=i.x,o=i.y,a=this.touchPoints[0],s=a.x,c=a.y,u=Math.abs(s-r),h=Math.abs(c-o);e<500&&u>30&&u>h?s>r?(n.page++,n.page=n.page>n.maxPage?n.maxPage:n.page,n.animate()):(n.page--,n.page=n.page>=0?n.page:0,n.animate()):n.scrollBack()},savePoint:function(t){var e;e=i.hasTouch?t.touches[0]:t,this.touchPoints.push({x:e.pageX,y:e.pageY})},scrollBack:function(){this.animate()},destroy:function(){this.intervalFn&&clearInterval(this.intervalFn),window.removeEventListener("resize",this.resizeFn,!1),i.hasTouch?(this.win.get(0).removeEventListener(i.START_EV,this.startEventFn,!1),this.win.get(0).removeEventListener(i.MOVE_EV,this.moveEventFn,!1),this.win.get(0).removeEventListener(i.END_EV,this.endEventFn,!1)):(this.win.unbind("hover"),this.points.unbind("mouseover")),this.leftBtn&&r(this.leftBtn).unbind(!0),this.rightBtn&&r(this.rightBtn).unbind(!0),this.body.get(0).style[i._transitionDuration]="",this.body.css({left:0}),this.pointBody.remove()}},t.exports=o}]);